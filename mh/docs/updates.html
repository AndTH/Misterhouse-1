<HTML>
<HEAD>
<TITLE>Mister House Announcement List</TITLE>
<LINK REV="made" HREF="mailto:">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#mister house announcement list">Mister House Announcement List</A></LI>
	<UL>

		<LI><A HREF="#version 2.68 posted on 05/28/2002">Version 2.68 posted on 05/28/2002</A></LI>
		<LI><A HREF="#version 2.67 posted on 05/04/2002">Version 2.67 posted on 05/04/2002</A></LI>
		<LI><A HREF="#version 2.66 posted on 03/31/2002">Version 2.66 posted on 03/31/2002</A></LI>
		<LI><A HREF="#version 2.65 posted on 03/01/2002">Version 2.65 posted on 03/01/2002</A></LI>
		<LI><A HREF="#version 2.64 posted on 01/23/2002">Version 2.64 posted on 01/23/2002</A></LI>
		<LI><A HREF="#version 2.63 posted on 01/19/2002">Version 2.63 posted on 01/19/2002</A></LI>
		<LI><A HREF="#version 2.62 posted on 12/16/2001">Version 2.62 posted on 12/16/2001</A></LI>
		<LI><A HREF="#version 2.61 posted on 11/18/2001">Version 2.61 posted on 11/18/2001</A></LI>
		<LI><A HREF="#version 2.60 posted on 10/20/2001">Version 2.60 posted on 10/20/2001</A></LI>
		<LI><A HREF="#version 2.59 posted on 09/23/2001">Version 2.59 posted on 09/23/2001</A></LI>
		<LI><A HREF="#version 2.57 posted on 08/12/2001">Version 2.57 posted on 08/12/2001</A></LI>
		<LI><A HREF="#version 2.54 posted on 06/26/2001">Version 2.54 posted on 06/26/2001</A></LI>
		<LI><A HREF="#version 2.52 posted on 05/28/2001">Version 2.52 posted on 05/28/2001</A></LI>
		<LI><A HREF="#version 2.51 posted on 05/06/2001">Version 2.51 posted on 05/06/2001</A></LI>
		<LI><A HREF="#version 2.49 posted on 04/15/2001">Version 2.49 posted on 04/15/2001</A></LI>
		<LI><A HREF="#version 2.47 posted on 03/24/2001">Version 2.47 posted on 03/24/2001</A></LI>
		<LI><A HREF="#version 2.45 posted on 02/24/2001">Version 2.45 posted on 02/24/2001</A></LI>
		<LI><A HREF="#version 2.43 posted on 02/03/2001">Version 2.43 posted on 02/03/2001</A></LI>
		<LI><A HREF="#version 2.41 posted on 01/20/01">Version 2.41 posted on 01/20/01</A></LI>
		<LI><A HREF="#version 2.39 posted on 12/21/00">Version 2.39 posted on 12/21/00</A></LI>
		<LI><A HREF="#version 2.36 posted on 12/03/00">Version 2.36 posted on 12/03/00</A></LI>
		<LI><A HREF="#version 2.34 posted on 11/12/00">Version 2.34 posted on 11/12/00</A></LI>
		<LI><A HREF="#version 2.32 posted on 10/22/00">Version 2.32 posted on 10/22/00</A></LI>
		<LI><A HREF="#version 2.29 posted on 10/01/00">Version 2.29 posted on 10/01/00</A></LI>
		<LI><A HREF="#version 2.28 posted on 09/09/00">Version 2.28 posted on 09/09/00</A></LI>
		<LI><A HREF="#version 2.27 posted on 08/18/00">Version 2.27 posted on 08/18/00</A></LI>
		<LI><A HREF="#version 2.24 posted on 08/06/00">Version 2.24 posted on 08/06/00</A></LI>
		<LI><A HREF="#version 2.22 posted on 06/24/00">Version 2.22 posted on 06/24/00</A></LI>
		<LI><A HREF="#version 2.20 posted on 05/27/00">Version 2.20 posted on 05/27/00</A></LI>
		<LI><A HREF="#version 2.15 posted on 05/06/00">Version 2.15 posted on 05/06/00</A></LI>
		<LI><A HREF="#version 2.13 posted on 04/09/00">Version 2.13 posted on 04/09/00</A></LI>
		<LI><A HREF="#version 2.11 posted on 03/09/00">Version 2.11 posted on 03/09/00</A></LI>
		<LI><A HREF="#mh ver 2.1 posted on 02/19/00">mh ver 2.1 posted on 02/19/00</A></LI>
		<LI><A HREF="#mh ver 2.00 posted on 02/12/00">mh ver 2.00 posted on 02/12/00</A></LI>
		<LI><A HREF="#mh ver 1.97 posted on 01/27/00">mh ver 1.97 posted on 01/27/00</A></LI>
		<LI><A HREF="#mh ver 1.93 posted on 01/05/00">mh ver 1.93 posted on 01/05/00</A></LI>
		<LI><A HREF="#mh ver 1.90 posted on 12/12/99">mh ver 1.90 posted on 12/12/99</A></LI>
		<LI><A HREF="#mh ver 1.89 posted on 11/20/99">mh ver 1.89 posted on 11/20/99</A></LI>
		<LI><A HREF="#mh ver 1.87 posted on 11/07/99">mh ver 1.87 posted on 11/07/99</A></LI>
		<LI><A HREF="#mh ver 1.83 posted on 10/09/99">mh ver 1.83 posted on 10/09/99</A></LI>
		<LI><A HREF="#mh ver 1.82 posted on 10/02/99">mh ver 1.82 posted on 10/02/99</A></LI>
		<LI><A HREF="#mh ver 1.79 posted on 09/26/99">mh ver 1.79 posted on 09/26/99</A></LI>
		<LI><A HREF="#mh ver 1.77 posted on 09/17/99">mh ver 1.77 posted on 09/17/99</A></LI>
		<LI><A HREF="#mh ver 1.75 posted on 09/12/99">mh ver 1.75 posted on 09/12/99</A></LI>
		<LI><A HREF="#mh ver 1.71 posted on 08/29/99">mh ver 1.71 posted on 08/29/99</A></LI>
		<LI><A HREF="#mh ver 1.69 posted on 08/01/99">mh ver 1.69 posted on 08/01/99</A></LI>
		<LI><A HREF="#mh ver 1.68 posted on 07/31/99">mh ver 1.68 posted on 07/31/99</A></LI>
		<LI><A HREF="#mh ver 1.65 posted on 07/22/99">mh ver 1.65 posted on 07/22/99</A></LI>
		<LI><A HREF="#mh ver 1.63 posted on 07/05/99">mh ver 1.63 posted on 07/05/99</A></LI>
		<LI><A HREF="#mh ver 1.61 posted on 06/27/99">mh ver 1.61 posted on 06/27/99</A></LI>
		<LI><A HREF="#mh ver 1.58 posted on 06/20/99">mh ver 1.58 posted on 06/20/99</A></LI>
		<LI><A HREF="#mh ver 1.56 posted on 05/30/99">mh ver 1.56 posted on 05/30/99</A></LI>
		<LI><A HREF="#mh ver 1.54 posted on 04/27/99">mh ver 1.54 posted on 04/27/99</A></LI>
		<LI><A HREF="#mh ver 1.51 posted on 03/27/99">mh ver 1.51 posted on 03/27/99</A></LI>
		<LI><A HREF="#mh ver 1.46 posted on 03/12/99">mh ver 1.46 posted on 03/12/99</A></LI>
		<LI><A HREF="#mh ver 1.42 posted on 02/26/99">mh ver 1.42 posted on 02/26/99</A></LI>
		<LI><A HREF="#mh ver 1.40 posted on 02/20/99">mh ver 1.40 posted on 02/20/99</A></LI>
		<LI><A HREF="#mh ver 1.35 posted on 02/07/99">mh ver 1.35 posted on 02/07/99</A></LI>
		<LI><A HREF="#mh ver 1.34 posted on 02/07/99">mh ver 1.34 posted on 02/07/99</A></LI>
		<LI><A HREF="#mh update 02/04/99 version 1.32">mh update 02/04/99 version 1.32</A></LI>
		<LI><A HREF="#mh update 01/30/99 version 1.30">mh update 01/30/99 version 1.30</A></LI>
		<LI><A HREF="#mh update 01/30/99 version 1.29">mh update 01/30/99 version 1.29</A></LI>
		<LI><A HREF="#mh update 01/24/99 version 1.27">mh update 01/24/99 version 1.27</A></LI>
		<LI><A HREF="#mh update 01/13/99 version 1.21">mh update 01/13/99 version 1.21</A></LI>
		<LI><A HREF="#mh update 01/08/99 version 1.18">mh update 01/08/99 version 1.18</A></LI>
		<LI><A HREF="#mh update 01/06/99 version 1.17">mh update 01/06/99 version 1.17</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<HR>
<H1><A NAME="mister house announcement list">Mister House Announcement List</A></H1>
<P>- This is a copy of the mh update announcements made to MisterHouse mailing list (an archive of all the list 
messages is at <A HREF="http://sourceforge.net/mail/?group_id=1365">http://sourceforge.net/mail/?group_id=1365</A> )</P>
<P>
<H2><A NAME="version 2.68 posted on 05/28/2002">Version 2.68 posted on 05/28/2002</A></H2>
<P>Version 2.6? was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Fixed 'list all timers'  (need a space after ``voice=male'' ...)</P>
<P>Version 2.68 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Bill Sobel added lib/AudiotronPlayer.pm, to support the Turtle Beach AudioTron. 
Bill also made updates to these modules:  Stargate485.pm, Stargate.pm, weather_vw.pm, Xantech.pm, and Compool.pm.</P>
<P>- Pete Flaherty's created code/public/weather_iB_OWW_client.pl to read data from the OWW 1-wire ibutton weather station daemon
( <A HREF="http://www.simon.melhuish.net/projects/oww/">http://www.simon.melhuish.net/projects/oww/</A> ).</P>
<P>- Added voice, compression, and deep thought buttons to the web/speak and ia5/web/speak pages.</P>
<P>- Added alt text tags to most of the web pages, including the ia5 pages, so image-less browsers can see.</P>
<P>- Added last_response data to internet_im.pl, so it returns the results from commands.
Also added mh.ini parm password_allow_im to specifiy what im users can type commands.</P>
<P>- Re-wrote mh/web/bin/status_line.pl to make it programable.   In now supports 2 types of javascript clocks
and you can pick the order and contents of data it displays.  See html_status_line in mh/bin/mh.ini for more info.</P>
<P>- Added a javascript clock to the photos.pl page, currently enabled for Audrey only, since they 
have limited space on the status line for a clock.</P>
<P>- Re-wrote the web interface to menus (mh/web/bin/menu.pl) and added a Menus link from the top of the ia5 web page.
Also added a set_menu_default function so we can have different default starting menus, 
depending on the type and location (e.g. ip address) of the browser.   See mh/code/test/menu.pl for an example.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Alan Womack noticed we would mis-evaluated external commands that started with 'set ...'
We also improved security with this option.</P>
<P>- Kevin Wambsganz noticed that $Pgm_Root was only being substituted once in a multi-path code_dir.</P>
<P>- Scott Reston added mh/code/examples/x10_cycle_light1.pl for cycling through various light states</P>
<P>- Kent Noonan found a 2.67 problem with #include code=&amp;sub directives.</P>
<P>- William Steiner fixed a problem with web organizer events with the ' character.</P>
<P>- Bob Hughes fixed a negative lat/long postition report problem in the ham radio aprs mh/code/bruce/tracking_aprs.pl.
We also took out the Bruce specific stuff.</P>
<P>- Steve Switzer suggested a few updates to internet_im.pl.</P>
<P>- Timothy Spaulding added a mh.ini parm caller_id_reject_file, which puts numbers into $Caller_ID::reject_name_by_number</P>
<P>- Brent Gross added mkdir to the net_ftp command.</P>
<P>- Don Wilde fixed read_dir in lib/ibutton.pm to turn off the switch after checking wind direction.</P>
<P>- Created mh/web/public for misc. files that go with various mh/code/public files.</P>
<P>- Mickey Argo sent in mh/code/public/wintv_radio.pl and mh/web/public/wintv_radio.html.</P>
<P>- Fixed the response to vxml (voice xml) commands (some responses were not returning vxml).</P>
<P>- Enabled voice_names for ViaVoice and added an example in mh.ini.</P>
<P>- Enable last_response data to return display and print_log data in telnet.pl.  Also improved telnet password authorization.</P>
<P>- Added MSNim_Status hook in internet_im.pl for detecting buddy status.</P>
<P>- Fixed internet_data.pl top 10 list url and a parsing hang.</P>
<P>- Fixed last_response called from menu code.</P>
<P>- Changed mh.ini parm html_browser_sizes default for MSCE browsers (e.g. Aquapad and Compaq IA1) 
from 640 to 800 and updated web/bin/photos.pl web photo code to 
use &amp;http_agent_size to dictate the size of the touch grids and help screen.</P>
<P>- Return 'housecode' from set_by if an X10_Item is set on/off with with All on/off.</P>
<P>- Updated the dailystrip comics code to version 1.0.24.</P>
<P>- Added 'Send test e mail to the cell phone' to internet_mail.pl.  Dropped mh/bin/sprint_pcs.</P>
<P>
<H2><A NAME="version 2.67 posted on 05/04/2002">Version 2.67 posted on 05/04/2002</A></H2>
<P>Version 2.67 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- The remote web wav files wave files are now created in the background.  
To support this, the Voice_Text::is_speaking function now works accurately
for all the unix TTS engines (except festival, which still uses a timer).
The generated wav files are now stored in mh/web/cache, and have $Second
append to them, to allow simultaneous multiple web clients.</P>
<P>- Added support for the AT&amp;T Natural Voices TTS engine ( href=http://www.naturalvoices.com ).</P>
<P>- Added mh.ini parm voice_names, so we can correlate generic voice names to specific names. 
For example, here is my entry (more examples in mh.ini):</P>
<PRE>
  voice_names = female=&gt;Crystal, male=&gt;Rich16, male1=&gt;Rich16,
                male2=&gt;Mike, Rich=&gt;Rich16, Mary=&gt;Crystal, Sam=&gt;Mike</PRE>
<P>- Allow for a user speech subroutine to be called from the speak function, with mh.ini parm voice_text = &amp;user_sub.
See mh/code/public/speak_mbrola.pl for an example.</P>
<P>- Replaced mh/code/test/speak_server.pl with the much cleaner eliza_server.pl.   
If you use the eliza web interface, you will need to replace this in your user code also
and delete any speak_server parms you have in your .ini file.</P>
<P>- Gaetan Lord created mh/lib/X10_BX24.pm to support the BX24 X10 Transceiver, info at <A HREF="http://www.laser.com/dhouston">http://www.laser.com/dhouston</A></P>
<P>- Andrew Drummond created mh/lib/dss_interface.pm and mh/code/public/dss_interface.pl
to provide serial port control of most dss receivers.</P>
<P>- Scott Reston suggested we create a new Generic_Item state_changed method.
Like state_now, it will return the object's state
only for one pass after the object is set, but 
unlike state_now, state_changed will return undef (false) if
the item is set to the same state it is currently in.</P>
<P>- Kevin Wambsganz suggested we allow multiple code paths, 
so the mh.ini code_dir parm can now be a comma delimited set of directories.</P>
<P>- Also put in support for multiple mh.ini files by using a 
comma delimited list of files in your mh_parms env var.</P>
<P>- Holly Sommer found an perl module for the MSN instant messanger.  
Also added a message callback to the AOL AIM code and modified
the Jabber_Message callback to return data consistent with MSN and AIM.   These changes allowed me to 
merge example code for all 3 of into mh/code/test/internet_im.pl, so I dropped internet_jabber.pl.
This code now also supports turning on and off logging of all speak and print_log data to any of the im clients.</P>
<P>- Paul Chamberlain set up a TWiki web-based collaboration site for 
user-supplied MisterHouse documentation here: <A HREF="http://tifster.tzo.com/wiki/bin/view/Misterhouse">http://tifster.tzo.com/wiki/bin/view/Misterhouse</A></P>
<P>- Fred Frey created mh/bin/send_verison for sending messages to verison phones</P>
<P>- Clive Freedman created mh/code/public/chart_xl.pl for generating html that calls Excel via activex to chart log data.</P>
<P>- Robert Rozman created mh/code/public/pictures_files.pl that uses a dbm to index a photo database.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Scott Reston added code/examples/x10_set_group.pl</P>
<P>- Chris Witte suggested we allow multiple args to print_log, as print does.</P>
<P>- Kip Gebhardt noticed that password_protect=all was not protecting all web pages.</P>
<P>- Bob Hughes noticed that older browsers had some broken links for some
auto-generated GD icons with blanks in the text (e.g. 'X10 Items').</P>
<P>- Mark Miller found a 2.66 bug in display that would display previous, not requested, text.</P>
<P>- Alan Womack sent in a bunch of spelling/typo fixes for the mh docs.</P>
<P>- Joseph Gaston noticed that .shtml #include file=``code.pl?item1&amp;item2'' args were not parsed correctly.</P>
<P>- Mike Bruno and Harald Koch created faq question 3.4:  How do I get Mister House to start up automatically when my linux box boots</P>
<P>- Kevin Wambsganz created mh/bin/misterhouse_SuSe.rc for system startup under SuSE.</P>
<P>- Alex Hsia and Bob Hughes helped find and fix a 2.66 problem with INC in dailystrips use of LWP/UserAgent.</P>
<P>- Kevin Wambsganz added mh.ini parm lib_dir, so you can add or override .pl library files.</P>
<P>- Ron Klinkien updated and created some more ia5 icons.</P>
<P>- Riad Wahby updated the AOL AIM module to work with a recent AOL change.</P>
<P>- Alan Womack suggested we add a web/tk option for typing in commands, like we can type with the external bin/house command.  
Added this under the ia5 search menu.</P>
<P>- Allow for .mht table files with objects that have multiple states.  See mh/code/test/test_x10.mht for an example.</P>
<P>- Test for X10_Item, not 'light' or 'lite', in button.pl to determine if it is a bright/dimable item.</P>
<P>- Added mh/bin/do_nothing and allow for a Process_Item start cmd override.
This allows us to bypass a long running process without changing much code.
For example: start $p_top10_list 'do_nothing';</P>
<P>- Keep one month of data in the data_dir/speak-print_log.old files.
Data gets moved to .old2 files at the first of the month.</P>
<P>- Fixed a 2.66 problem with udp socket data being ignored.</P>
<P>- Fixed an old (2.45?) Timer problem where the timer expire time was reset on reload or restart.  
Also enabled timers that expired during the reload/restart to be triggered on startup.</P>
<P>- Added mh/web/bin/status_line_clock.pl, which includes a javascript clock.  Looks ok on an Audrey,
but is not centered on IE or Netscape.</P>
<P>
<H2><A NAME="version 2.66 posted on 03/31/2002">Version 2.66 posted on 03/31/2002</A></H2>
<P>Version 2.66 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Robert Rozman sent in the mh/web/organizer files, a set of calendar, contacts, and tasks cgi scripts from verysimple.com.
Copy the default mh/data/organizer files to your own data dir and point to that dir with the new mh.ini organizer_dir parm. 
I updated the default mh.ini calendar href links used in ia5/calendar to use these scripts, rather than the yahoo pages.
Since these are conventional cgi scripts, they require the ability to redirct STDOUT
(same thing required with the recent windows http_fork support).
This works on unix and NT/2K/XP boxes, but not on many (any?) win95/98 boxes.</P>
<P>- Created mh/code/test/organizer.pl, which monitors that new organizer calendar, and creates 
mh events to speak when a calender event occurs.</P>
<P>- Added mh.ini web_href_calendar_history parm, used in the ia5 calander page.  
The default points to the results of mh/code/public/news_onthisday.pl, which now works again.</P>
<P>- Added a speak -compression option, currently only for the MS V5 TTS engine.
This option picks the .wav format to use when using -to_file to save TTS to a file.
Options are (example sizes are for a short 4 word phrase):</P>
<PRE>
   high =&gt; GSM 6.10 11 kHz   mono ( 3k.  Not usable on an Audrey),  
 normal =&gt; PCM  8 kHz  8 bit mono (16k.  New default)
    low =&gt; PCM 22 kHz 16 bit mono (88k.  Old default)</PRE>
<P>Also updated speak_server.pl and http_server webmute=0 to use -high if request was from a remote browser.</P>
<P>- Updated X10_Item so that the ##% states (e.g. 10% or 75%) can be used with normal (older, cheaper) modules.
mh will now use what it thinks the current brightness level is to come up with a +-## 
bright/dim command.  If the module was off, it will first be turned to full on, since the 
older modules can not be dimmed from an off state.</P>
<P>- To support the above change, but still allow preset-able modules to use ##% preset levels,
we added a 3rd parm to X10_Item (the 2nd parm is what X10 interface
you want to use, if you don't want the default).  Those of you with newer 2-way modules that 
support preset dims (e.g. LM14) will want to specify 'preset' or 'LM14'.
Here is an example, in normal and mht form:</P>
<PRE>
  $light1 = new X10_Item('O1', '', 'preset');
  X10I,  O2,  light2, All_Lights|Upstairs,   ,LM14</PRE>
<P>- Added mh.ini html_status_line* parms, so you can point to a custom status line at the bottom 
of your ia5 and photos page.  Default is web/bin/status_line_small/big.pl, depending if you
are browsing from a small browser (e.g. Audrey or WinCE) or not.
Bob Hughes fixed a bug to re-enabled the sunrise icon.</P>
<P>- Brian Paulson added Generic_Item methods set_web_style and get_web_style, to allow us to pick the
web style of dropdown, radio, or url for Voice_Cmd objects.
An example is in mh/code/examples/test_web_styles.pl.</P>
<P>- Richard Phillips added code/public/mp3_playlist_xmms.pl for linux, 
so that now *all* the playlist functions, mp3 database, 
etc available in the standard ia5 jukebox work 'just dinky keen fine'.</P>
<P>- David Norwood and I created mh/code/public/tk_photos.pl, like the web photo slideshow, but 
displays locally and full screen.  Use keys n,p,q for next, previous, and quit.
If you have Image::Magick installed (or run mh.exe) and have a fast box, you can try
setting mh.ini parm photo_resize=1 to have the images resized on-the-fly to full screen (causes mh pauses on slower boxes).</P>
<P>- Added a 2nd, $second parameter to time_now and time_cron.
Use this to specify which second to fire on.  If not specified, the default is still $Second == 0 (i.e. minute boundaries).
Set to '*' to fire on all passes for the matched minute(s). 
Note, we had recently added a more limited 2nd parm to time_cron, so if you used this, change it from '1' to '*'.</P>
<P>- Added the option to specify default speak options with mh.ini parms.
For example, if you want to have a default volume of 40, use speak_volume=40.   
If you want to have all speech go to files, use speak_file=file_name.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Reverted the windows mh.exe back to perl 5.0 (it was 5.6 in the 2.65 release).  
Except for the Jabber code, 5.0 still does everything that 5.6 does, and there seems to be fewer memory problems for most.</P>
<P>- Modify INC path to look for mh/lib before, not after, the locally installed libs.  This avoids inconsistencies
with older/newer modules installed locally.  Also modify INC before we process mh -run commands, so you can use
the local mh lib modules when calling various mh/bin scrips.  Also added a lib/site_win* dirs
so we can support Windows sendkey on both 5.0 and 5.6.</P>
<P>- Added a mh.ini gd parm, to allow the GD web page icons to be turned off.</P>
<P>- Brian Paulson added code to the ibutton modules to verify the chip is on the bus before trying to read it's temperature.</P>
<P>- Harald Koch updated bin/get_weather_ec (Canadian weather data) with more reliable table parsing.</P>
<P>- Gary Sanders found a problem with passing &amp; data to web scripts, like iniedit.pl.</P>
<P>- Kent Noonan fixed logos in get_tv_grid when using multiple providers.</P>
<P>- Craig Schaeffer found a 2.65 get_tv_grid problem in searching for favorite tv shows, 
and Scott Johnston found an INC problem where it would not find LWP modules.</P>
<P>- Kent Noonan updated lib/RedRat.pm to allow for saving and setting of states.</P>
<P>- Bob Hughes sent in some fixes for the new web button code.</P>
<P>- Scott Reston added a _stopped state to X10_Sensor.  We also fixed it so the 2 character id option works.</P>
<P>- Kevin Wambsganz and I added $ENV{HTTP_QUERY_STRING}, which reflects the current web page's arguments.
This lets use use parent shtml page arguments in child includes.</P>
<P>- Added -height, -width, and -geometry options to display.  Used in internet_data.pl top 10 list display, 
along with a bigger font so we can read the tk display from across the room.</P>
<P>- Added a 'Force reload code' option and call this from a 'Build mp3 database', so new songs are shown without restarting mh.</P>
<P>- Fixed timers.pl 'Cancel all timers'</P>
<P>- Fixed a 2.65 bug that messed up mh client sockets on perl 5.0</P>
<P>- Added a 'List status of all code files' commands so we can review if any code files are disabled.</P>
<P>- Added 'Back' buttons to the upper left quadrant of the LED clock and photo pages.</P>
<P>- Enabled the web ia5 WebMute and MSAgent speech settings page, using a new mh/web/bin/set_cookie.pl function.</P>
<P>- Changed the default for mh.ini parm http_fork.  If not specified, it now defaults to 
1 (on) for unix and NT/2K/XP and 0 (off) for win 95/98/me.  
Also, setting it to 0 will now disable if on unix also, for those having problems with forks there.</P>
<P>- Fixed a memory leak problem when displaying .gif or .jpg images with tk.</P>
<P>
<H2><A NAME="version 2.65 posted on 03/01/2002">Version 2.65 posted on 03/01/2002</A></H2>
<P>Version 2.65 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Ron Klinkien updated the default ia5 web interface.  Amongst other changes, he added more
customized icons and he and I created nifty web/bin/*button*.pl routines for 
creating .jpg buttons on the fly if the perl GD module is installed (mh.exe has GD 
compiled in).  These are cached in a new web/cache dir.</P>
<P>- Upgraded the windows compiled mh.exe from perl 5.002 to 5.6.  My perl2exe registration key did not 
migrate to the new version and I have not yet sprung another $50 for the upgrade,
so you will see a message and small delay when you exit mh.exe.
One obscure problem I noticed (with this new mh.exe only) is that file OPEN calls with a DATA filehandle
cause an abend!  DATA can be special in perl, so should be avoided.
The only place I had this in my code was in the phone_logs.pl member (I renamed DATA to PLOG).</P>
<P>- Upgraded windows Setupsup.pm to a 5.6 compatible version.  This means that we can start using sendkeys
to control other Windows programs again.
If you are still on a pre5.6 perl and use this function, install the older version into your local perl dir
(email me for details).  Pre5.6 users will also now need to also install Win32::Api locally (see install docs),
as it is no longer include in the mh/lib/site path.</P>
<P>- Renamed get_changed_by to get_set_by and added these as valid return values:  web, tk, telnet, vr, xcmd, serial.
Also added it as an option to run_voice_cmd.  Examples are in code/test/internet_jabber.pl and code/examples/test_set_by.pl</P>
<P>- Allow for multiple clients to connect to a mh socket server. 
For example, you can now have multiple telnet clients (if you run telnet.pl). 
Also added an optional 3rd parm to the Socket_Item set method which can be 
'all' (send to all connected clients), ip_address (a regular expresion of the ip <CODE>address(s)</CODE> you want to send to,
or client_number (which client to send to, 0 .. #).   See telnet.pl for an example.</P>
<P>- Allow for multiple html_alias directories for the same web root, where the last one wins.
So, for example, to override some of the icons in mh/web/graphics, 
use html_alias2_graphics=path_to_your_icons  as a 2nd graphics dir parm.</P>
<P>- Added mh/code/test/comic_dailystrips.pl to update a new web/comics dir.
Modify the mh.ini comics parm with any from the over 300 comics listed in web/comics/dailystrips/strips.def.
Like the tv data, you can change the mh.ini html_alias_comics parm to store the comics out of the mh distro path.</P>
<P>- Gaetan Lord created mh/code/common/Xmms_* files for controlling the linux xmms mp3 player.
He also updated his xmms jukebox at mh/web/music/xmms (was in mh/web/misc/mp3_control_xmms.pl)
</P>
<PRE>

- Roger Bille sent in the files in mh/code/public/Roger.
This code is targeting APRS, including generating this aprs hub status page: <A HREF="http://ahubswe.net/ahub.html">http://ahubswe.net/ahub.html</A></PRE>
<P>- Stoll Thomas created mh/bin/get_tv_*_ge for retreiving and and searching german tv shows via <A HREF="http://www.tvspielfilm.de">http://www.tvspielfilm.de</A></P>
<P>- Harald Koch created mh/code/public/weather_ec.pl and bin/get_weather_ec for parsing Canadian weather data 
from weatheroffice.ec.gc.ca into %Weather.</P>
<P>- David Lounsberry sent in mh/code/public/weeder_david.pl, hvac_david.pl, and rrd.pl
which show how he monitors 14 iButton buttons and the 
new Solid State Relay weeder board to control his HVAC system.</P>
<P>- Kent Noonan created lib/RedRat.pm and code/public/redrat.pl and redrat_capture to control IR devices with the 
RedRat interface:  <A HREF="http://www.dodgies.demon.co.uk/index.html">http://www.dodgies.demon.co.uk/index.html</A></P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Joe Blecher updated mh/lib/LynxX10PLC.pm to autoconfigure on startup.</P>
<P>- Yangmin Shen noticed is_speaking was broken for festival users.</P>
<P>- Mickey Argo sent in mh/code/examples/volume_level_reset_httpq.pl as an example of how 
to reset mp3 volume levels using httpq</P>
<P>- Harald Koch also fixed a problem with running a Process_Item on an internal function on unix.</P>
<P>- Brian Paulson sent in mh/code/public/iButton_ws_brian.pl.</P>
<P>- Brian Paulson also added a ibutton_line_length mh.ini parm.  It defaults to LONG, 
which matches what the previous code did.  If you have had problems here, try setting it to SHORT.</P>
<P>- Tom Witmer made a bunch of updates to get_tv_grid, including getting it to work again after 
some changes on the clicktv end.  His changes are outlined at
<A HREF="http://www.angelfire.com/co4/mister_tom/tvmods.html">http://www.angelfire.com/co4/mister_tom/tvmods.html</A></P>
<P>- Tom Vanderpool and I created web/bin/tagline.pl, used by the main ia5 page for a random remark.</P>
<P>- Harald Koch updated mh/code/bruce/inernet_jabber.pl
to add code hooks for processing jabber commands (jabber is an open source XML instant messaging program).
He also fixed a mh exit problem if a jabber connection was lost.</P>
<P>- Tom Vanderpool noticed a recent mh problem where it exited when speaking with voice_text=ms, but no ms engine installed.</P>
<P>- Kevin Wambsganz noticed that the $New_Msecond flags were not syncronized with the $New_Second flag.</P>
<P>- Kent Noonan found a bug where Voice_Cmd states of 0 were returned as 1.  
For example, 1 was returned for both the 0 and 1 states here:  $ir = new Voice_Cmd 'Press [0,1,2]');</P>
<P>- Joseph Gaston updated the HomeVision module mh/lib/HVweb_Item.pm.</P>
<P>- Harald Koch added FAQ question:  Where is perl program code located?</P>
<P>- David Norwood fixed the web ini editor commit option and the handling of ' and &amp; characters.</P>
<P>- Re-enabled sound_program=vv_tts</P>
<P>- Updated web/ia5/speak page to not have a hard coded ip address by using $Http{Host_address}.</P>
<P>- Added mh.ini proxy parm, used by get_url and get_tv_grid to enable use behind proxy firewalls.</P>
<P>- Deleted some of the older web interfaces from mh/bin/web.  If anyone wants them back, let me know.</P>
<P>- Updated the default ia5 page to honor a new mh.ini photo_time_startup parm. 
Set this to a large number to disable the photo slideshow.</P>
<P>- Added jump-to option to photos slideshow (click on photo number).</P>
<P>- Also added a help screen to the photos slideshow when in background mode (like when called from an Audrey). 
Touch the center of the screen to activate.</P>
<P>
<H2><A NAME="version 2.64 posted on 01/23/2002">Version 2.64 posted on 01/23/2002</A></H2>
<P>Version 2.64 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Minor release (no no features)</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Alex Hsia found a 2.63 problem if you had vv_tts_program and no sound_program parm.</P>
<P>- Added missing perlctl.dll missing from 2.63 win.zip</P>
<P>- Backup up to an older mh/bin/viavoice_server binary, so the newer
/lib/libc.so.6: version  'GLIBC_2.1.3' is not required.</P>
<P>- Changed default &amp;net_connect to pre 2.63 behaviour of returning 1 if net_connect_if is not specified.</P>
<P>- Fixed a 2.63 bug in get_url url file (file data was not saved)</P>
<P>- Fixed yet another 2.63 bug that caused normal MS TTS to lost after a speak to_file call.</P>
<P>- Fixed the ``Can't find '_hparser_xs_state' element in HTML::Parser'' error.</P>
<P>- Added an example copy of mh/data/pronouncable_words.list</P>
<P>- Added mh.ini parm ipaddress_local which overrides $Info{IPAddress_local}, now used in speak address option.</P>
<P>
<H2><A NAME="version 2.63 posted on 01/19/2002">Version 2.63 posted on 01/19/2002</A></H2>
<P>Version 2.63 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Chris Witte created mh/lib/audrey_cid.pm and mh/code/public/audrey_cid.pl
to create a UDP client to request callerid data from the Audrey acid UDP server.</P>
<P>- David Lounsberry added support for mixer and voice selection to the viavoice TTS driver mh/bin/vv_tts.pl.
These changes allow for setting the mixer for the play sound and the voice sound separately.</P>
<P>- Gaetan Lord created mh/code/public/dialup_unix.pl for starting/stopping ppp dialup connections.  
He also and added mh.ini parm net_connect_if so unix users could test for ppp dialup connections with &amp;net_connect_check.</P>
<P>- Gaetan Lord also created mh/web/misc/mp3_xmms.* (unix only, requires Xmms::Remote to be installed).</P>
<P>- Richard Phillips created mh/code/public/mp3_control_xmms.pl for controling the xmms MP3 player for Linux.</P>
<P>- Joseph Gaston created mh/lib/HVweb_Item.pm to control a
Homevision controller via the Homevision web server.  Example usage is in mh/code/public/HVweb.pl.</P>
<P>- Larry Roudebush created mh/code/public/internet_speed_check.pl for measuring ftp updload/download rates.</P>
<P>- Paul Chamberlain clued me into HTTP '204 No Response', which enables web links that
do not update a web page.  If you code a html link a h_response of no_response,
the page will not be changed when you click on the link for most browsers (does not work with Audrey). 
For example: &lt;a href=``RUN;no_response?read_the_house_tagline''&gt;test no_response&lt;/a&gt;</P>
<P>- Brian Paulsen added self-adapting delay code to the iButton Device.pm code to improve
read_temperature reliability.</P>
<P>- Kent Noonan started on mh/lib/Omnistat.pm and mh/code/public/omnistat.pl 
for controling HAI Omnistat Communicating thermostats (e.g. RC80).
Kent switched houses before he had a chance to finish test this code.</P>
<P>- Added Linksys router support to mh/code/bruce/monitor_router.pl.</P>
<P>- Added web server support for normal cgi scripts, where html is returned via STDOUT.
To enable, simply make sure that your .pl file you point to has perl on the first record (e.g. #!/usr/bin/perl).</P>
<P>- Added mh/docs/install.* instructions on how to install the fast unix TTS flite engine.
Copy it to mh/bin/flite, or point to it with mh.ini parm voice_text_flite.
If on linux, you can pick up a copy (3 meg) here: <A HREF="http://misterhouse.net:81/public/flite.gz">http://misterhouse.net:81/public/flite.gz</A></P>
<P>- Added speak engine= option.  The default engine is still specified with the mh.ini voice_text parm, but you can use
this new option to pick any other (unix) engines you have installed.   For example: speak ``engine=flite Hi'', 
or speak engine =&gt; 'viavoice' text =&gt; 'Hi'.  Some test code is in mh/code/bruce/test_voice.pl .</P>
<P>- Added and/or fixed the speak to_file option for festival, viavoice, vv_tts, and flite.</P>
<P>- Enabled voice, volume, and rate controls for Festival via SABLE xml flags.
This is done with a direct call to festival, since I couldn't get it to work with festival_server.
To enable, point to the festival binary with the new voice_text_festival mh.ini parm.
Non-SABLE TTS calls will still be made to festival_server, if it is running, 
as it is a bit faster, especially on slower machines.</P>
<P>- Added speak and play address option for pushing speech to remote browsers.
For details on how to enable on an Audrey, 
see mh/docs/faq_ia* question: How to push speech to remote Audreys
Example is in mh/code/bruce/audrey.pl</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- David Lounsberry sent in FAQ question 3.3: How do I add a multi-port serial card in linux?</P>
<P>- Nick Maddock updated get_tv_info so it corretly searches into the next month (e.g. -dates +14 on 12/30 would stop on 1/1).</P>
<P>- Jeff Pagel sent in mh/code/public/weeder_init.pl as an example of initializing the newer weeder DIO cards.</P>
<P>- Robin Edwards found a 2.62 problem where web widgets were blank on startup, before a code reload.
This also fixes a startup problem some were having with 2.62 due to the new trigger code.</P>
<P>- Clay Jackson updated mh/code/public/weather_vw.pl with an example of logging weather data to APRSWXNET.</P>
<P>- Fixed perl 5.6 infinite loop problem AOLIM.pm, called by &amp;net_im_send which is used in code internet_im.pl.</P>
<P>- Allow for  unit=9,10,11..16, instead of 9,A,B,C..F in X10_Item and X10_Appliance.</P>
<P>- Sped up adding words when running viavoice_server.  If you see any 'no data' errors in the server errata, let me know
and we will try to get a bit smarter on that interface.</P>
<P>- Allow for multiple (comma or semicolin delimited) to receipents in &amp;net_mail_send.</P>
<P>
<H2><A NAME="version 2.62 posted on 12/16/2001">Version 2.62 posted on 12/16/2001</A></H2>
<P>Version 2.62 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Improved the speed and reliability of the web server by recoding how browser socket data gets processed.</P>
<P>- Added mh/code/common/trigger_code.pl.  David Norwood came up with the idea of allowing for code that 
runs only a specified number of times, then self prunes itself.  Rather than do this with objects, as
David first suggested, I implemented this with a file to keep it simpler and the overhead less.  
Examples are in mh/code/bruce/tv_grid.pl and the web page /ia5 Event-clock -&gt; alarms button (/misc/alarms.
Triggers are stored in data_dir/triggers.current.</P>
<P>- Added a bunch of mh.ini web_href_* parms, so we can point the default /ia5 web pages to references of our choice.
I picked some default ones ... suggestions welcome.</P>
<P>- Tom Vanderpool created mh/lib/Weather_wmr968.pm and mh/code/public/weather_monitor_wmr968.pl.
This supports the new wireless stations 
($330 from <A HREF="http://www.valcoelectronics.com/oregon/wmr968.htm">http://www.valcoelectronics.com/oregon/wmr968.htm</A> or $400 Radio Shack Accuweather pn 63-1016),
as well as the (we think) the wired wmr918.   The older Weather_wx200.pm works with the wx200 and wx918 (not wxr918) stations.
See the header in Weather_wmr968.pm for more info.</P>
<P>- Joe Blecher created mh/lib/Lynx10PLC.pm to support the 
Marrick X10 Lynx10-PLC controller ( <A HREF="http://www.marrickltd.com/LynX105.htm">http://www.marrickltd.com/LynX105.htm</A> ).</P>
<P>- David Lounsberry updated get_tv_grid and get_tv_info to support multiple databases (e.g. 
tv and cable).  Use the new -db parm to point to a new set of mh.ini parms.  
For example, copy the tv_* parms as sat_*, then run get_tv_grid twice, once
with -db tv and once with -db sat.</P>
<P>- Kent Noonan updated Ultimeter2000.pm and added Video_Inline.pm and mh/code/public/video_inline.pl to
control his Inline video scan doubler.</P>
<P>- Kent Noonan sent in mh/code/public/weather_pollen.pl for monitoring pollen counts from pollen.com.</P>
<P>- Robert Rozman and I created mh/web/misc/mp3.html for a web based mp3 jukebox, including playlist and search functions.</P>
<P>- David Lounsberry suggested we add a countup option to Timer.pm. 
Here are the new timer methods:  start,restart,stop,pause,resume,query.  
Added an example to mh/code/examples/test_timer.pl.</P>
<P>- David Norwood added mh/code/public/weather_chance_of_rain.pl for announcing when rain or snow is forecasted.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Brad Reed tracked down a 2.61 (hard to find!) problem which caused mh to exit when sending email on his linux box.</P>
<P>- Kevin Olalde fixed the mh.ini ibutton_tweak option.</P>
<P>- Jeffrey Ferris updated mh/code/public/wintvpvr_grid.pl for controlling the Hauppage WinTV PVR.</P>
<P>- Mickey Argo and David Norwood modified tv_info.pl to report on favorite shows 2 minutes before they start and
tv_grid.pl to updated the default tv pages 10 minutes prior to the hour.</P>
<P>- Brian Klier noticed the new get_tv_grid did not work with the compiled mh.exe (missing the cookie module).</P>
<P>- Tim Doyle noticed that tk pull downs did not work with Voice_Cmd {a,b,c} enumeration strings.</P>
<P>- RJ Riemensnider sent in the javascript code for mh/web/clock.</P>
<P>- David Lounsberry added get/set,incr,reset_count methods to Generic_Item.</P>
<P>- Kieran Ames added %Included_HTML to the web server, so you can add html to the auto-generated
/list?xyz html by setting adding this to your user code:  $Included_HTML{xyz} = ``...your html...''.</P>
<P>- Kieran Ames sent a pointer to an example of using gnuplot to plot ibutton temps here:
<A HREF="http://ames.myip.org:81/pages/my_iButtonVenture.htm">http://ames.myip.org:81/pages/my_iButtonVenture.htm</A></P>
<P>- Craig Schaeffer found a 2.61 problem with the new email not being tallied in $Save{email_check}.</P>
<P>- Chris Witte suggested we move set_with_timer from X10_Item to Generic_Item.</P>
<P>- Added a status frame to the photos slide show /misc/photos.html.  Also cross-linked it to the new /clock javascript clock.</P>
<P>- Updated the web server to drop HTTP headers on .pl results when called from .shtml files.</P>
<P>- Updated mh/bin/get_tv_grid to not store data on -skip or non -keep channels.
Also fixed a table problem that caused Netscape not to display channels.</P>
<P>- Updated mh/code/bruce/trivia.pl to store data in the user data_dir.</P>
<P>- Changed net_mail_summary (used by get_email) age option to check against date received, rather than date sent.</P>
<P>- Fixed the tk_widgets.pl pause button.  Needed to point to &amp;toggle_pause, not &amp;pause.</P>
<P>- Changed the default mh.ini parm to webmute=1, since many Unix users were not able to play wav files.</P>
<P>
<H2><A NAME="version 2.61 posted on 11/18/2001">Version 2.61 posted on 11/18/2001</A></H2>
<P>Version 2.61 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Ron Klinkien and Doug Nakakihara created the ia5 and ia6 web interfaces.  I changed the default to 
ia5, so if you want to use the older mh4 interface, set mh.ini html_file=mh4.  ia5 still has 
a number of menus that need updating from Ron's specific setup, but it is an excellent
start at overhalling mh's web interface.  Over the next few release, I expect we will continue 
to refine ia5, as well as adding parts from the other web menus.</P>
<P>- Added a speak -card # option, for users of voice_text MS V5 users.  If you manage to get multiple
sound cards installed, this allows you to pick which one gets used.  
To get 2 cards recognized by windows, you will probably have to install 2 different types of sound cards.
I didn't have any luck with 2 SB Live cards, but a SB Live and a SB Audigy mostly work ok together, even though 
Creative does not advice it.</P>
<P>- Rewrote Doug's pictureframe.pl script as mh/web/bin/photos.pl and photo_search.pl, controled with mh.ini photo_* parms.
These allow for forward, pause, reverse, search, forground/background, and sync options.  
I included a few small example photos in mh/data/photos.  To view, use <A HREF="http://localhost:8080/bin/photos.pl">http://localhost:8080/bin/photos.pl</A>
To point to your own photos, point to them with the mh.ini parm html_alias_photos, copy mh/code/test/photo_index.pl 
and run 'Reindex the photo album'.</P>
<P>- Added mh/bin/image_resize, which uses the powerful ImageMagick module to resize photos.  I use it to keep
640x480 versions or our 5000+ photo collection for use with the above photos.pl script on small screens like the Audrey or ePod. 
See the top of image_resize for instructions on installing the required Image::Magick module on either unix or windows.</P>
<P>- Tim Doyle created mh/code/public/voice_client.pl and voice_server.pl as a way to allow mh to speak 
to other windows boxes.  He uses it on his boxes at work (through a firewall), to listen to what his house is up to.</P>
<P>- Jeff Ferris's created mh/code/public/wintvpvr_grid.pl for controlling a
Hauppage WinTV PVR USB to record TV shows using the tv_grid web pages.</P>
<P>- Tim Doyle added mh/code/public/internet_starshine.pl to announce
when one of the visible passes of a StarShine satellite is about to occur.</P>
<P>- Kent Noonan created mh/lib/Ultimeter2000.pm, to support the Peet Bros. weather station (http://www.peetbros.com)
Example code is in mh/code/public/weather_monitor_ultimeter2000.pl.   I think this is a work in progress (i.e. I'm 
not sure if it works yet).</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Doug Nakakihara sent in mh/code/public/chimes_cuckoo_doug.pl, a cukoo clock that uses only one wav file.</P>
<P>- William Harford found a few lowercased module names in mh/lib/site</P>
<P>- David Norwood updated http_server.pl and mh/web/misc/pictureframe.shtml (and now photos.pl) to allow for photo filenames with blanks.</P>
<P>- Jeff Ferris fixed a problem with authorizing .pl web files.</P>
<P>- Craig Schaeffer discovered 2.60 broke multi-line mh.ini parms.</P>
<P>- Tim Doyle and Tom Vanderpool added X10_Sensors support to .mht files as X10MS entries.</P>
<P>- Paul Chamberlain and Mark Mabry sent in a few more unix examples on starting/stoping mh in mh/bin/misterhouse*.rc</P>
<P>- Doug Nakakihara fixed get_tv_grid to allow for show titles with html markup.</P>
<P>- David Norwood updated mh/bin/get_tv_grid to store local copies of logo images.</P>
<P>- Scott Johnston fixed a bug with tar in mh/bin/backup_data when run on linux</P>
<P>- Dan Wilga and I added -keep and -skip channel options to get_tv_grid, to choose which channels to keep and skip.</P>
<P>- Tim Doyle updated mh/code/public/internet_earthquakes.pl to be a bit smarter, like earthquakes_cal.pl.</P>
<P>- Tim Doyle also sent in an update to mh/code/public/aqualink.pl code for controling the Jandy AquaLink pool controller.</P>
<P>- Added a -no_title option to get_tv_info and used in in the favorite_tv_shows searchs in tv_info.pl</P>
<P>- Minor improvements in the iniedit help</P>
<P>- Added a net_mail_account_server_port and net_mail_account_server_send_port options.
Also changed ftp timeout from 120 to 20.</P>
<P>- Updated mh/bin/get_email to delete attachements from the email summaries.</P>
<P>- Added a few more Audrey entries to IA FAQ: mh/docs/faq_ia.html</P>
<P>- Created mh/code/examples/audrey.pl as an example of how to control the Audrey led and screen from mh.</P>
<P>- Change the html alias parm format (old style still works):</P>
<PRE>
  Old style:  html_alias_tv = /tv $config_parms{data_dir}/tv
  New style:  html_alias_tv =     $config_parms{data_dir}/tv</PRE>
<P>- Allow for authorizing web .pl scripts with this script string: '# Authority: anyone'</P>
<P>- Added a &amp;referer web response function, to work around tha Audrey problem of not returning full
referer urls.  See the ia5 lights/appliances page for an example.</P>
<P>
<H2><A NAME="version 2.60 posted on 10/20/2001">Version 2.60 posted on 10/20/2001</A></H2>
<P>Version 2.60 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sf.net/download.html">http://misterhouse.sf.net/download.html</A>
  <A HREF="http://misterhouse.net:81/download.html">http://misterhouse.net:81/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- David Norwood added the option to edit private mh.ini parms with a web browser.
Use <A HREF="http://localhost:8080/bin/iniedit.pl">http://localhost:8080/bin/iniedit.pl</A> or the new Admin menu the default web page.
This uses a slightly reformated mh/bin/mh.ini file with embeded help text and categories.
Also added to support this is http POST requests, but for some reason this currently is slow under Netscape.</P>
<P>- Added remote web browser wav file support.  For TTS engines that support speak-to-wav files
(currently MS TTS 5.1 and maybe Festival), the web server will send create and send a wav
file for the requested text.  To disable, check the new Mute checkbox at the top of the default webpage,
or set mh.ini parm webmute=1.</P>
<P>- Added mh.ini net_mail_scan_age parm. 
This is the age, in minutes, of email to report/scan.
If blank (the default), get_email (called periodically by internet_mail.pl)
reports on all mail on your server (as it used to).  
If your have your mail client set to 'leave mail on server'
(useful if you want to use appliances like Audrey or remote web servers like HotMail to also read mail),
you will probably want to set this to something like 15, to match how often inetnet_mail.pl checks for new mail.</P>
<P>- Added a couple of slimed down web pages for Internet Appliances like ePod or Audrey.
These are the current ones in mh/web (now outlined in mh/web/README.txt):</P>
<PRE>
  ia1 is a slightly slimed down version of the default page.
  ia2 (was named epods).  Craigs page he uses for his epods.
  ia3 John Edmonds pages with nice big touchable icons
  ia4 Ron Wright's pages he wrote for his Audrey</PRE>
<P>- Updated mh/bin/get_tv_info and code/test/tv_grid.pl to read zap2it.com pages, rather than the now dead clicktv.com. 
Many thanks to David Norwood and Harald Koch for coming up with the secret cookie recipe!
Renamed mh.ini parms clicktv_* to tv_* and added tv_provider and zip_code parms.
Also renamed web/tv/clicktv to web/tv/download.</P>
<P>- Denis Cheong has started work on mh/lib/X10_JR21A.pm, to support the  
JR21A MouseRemote receiver with corresponding JR20A MouseRemote remote.</P>
<P>- David Norwood added mh/code/public/chimes_cuckoo.pl and chimes_westminster.pl
to enable poor man's cuckoo and grandfather clocks.</P>
<P>- Ron Klinkien sent in mh/code/public/callerisdn.pl for getting callerid from an ISDN AVM Fritz!Card.</P>
<P>- Denis Cheong created mh/code/public/sensors_lm.pl to get motherboard temperature data 
from the (linux only) lm sensors program.</P>
<P>- Doug Nakakihara created mh/web/bin/pictureframe.pl and mh/web/misc/pictureframe.shtml
for serving auto-refreshing pictures to a web browser.  I updated it to use a mh.ini
pictureframe_dir parm.  Set that var, then use with <A HREF="http://localhost:8080/misc/pictureframe.shtml">http://localhost:8080/misc/pictureframe.shtml</A>
More info in pictureframe.pl.
Also moved a few other misc files out of mh/web and into the mh/web/misc dir.</P>
<P>- Added mh/doc/faq_ia.html (and .txt) with questions/answers about internet appliances
like the Epod and Audrey.  Additions welcome!</P>
<P>- Added a State_change hook.  This allows us to add events that trigger when any object changes state,
so for example we can create state logs that other programs can use to monitor mh activity.
An example is at the end of mh/code/bruce/test_code_hooks.pl</P>
<P>- Added set_label.  Like set_icon, this can be used to create more readable menus, although it is not used 
in any menus yet.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Evan Graham fixed a typo enabling the passive ftp option.</P>
<P>- Douglas Parrish updated mh/lib/read_table_A.pl. to add iButton support to mht files.</P>
<P>- Jeff Pagel discovered a startup problem with 2 or more iButton ports.
See mh/code/bruce/iButton.pl for new details on how to use 2 or more iButton ports.
The parm names were changed slightly to be consistant with other multiple-port devices,
although the old parm names are grandfathered in.</P>
<P>- Ingo Dean found mh 2.59 broke speak for viavoice and festival users.</P>
<P>- Geoff Harrison and Joel Moore suggested an (untested) implementation of speak -to_file options for Festival.</P>
<P>- Sam Levine found problems with the Tk pause button and trying to read from blank caller id parms.</P>
<P>- Ken Schumack had unreadable symbol fonts used for tk menus, so we added a new mh.ini tk_font_menus parm,
which he set to ansi.</P>
<P>- Denis Cheong found a problem with time_now checks when using date_format=ddmmyy</P>
<P>- David Norwood sent in FAQ question 1.20: How can I point MisterHouse to a custom web interface?</P>
<P>- Fixed web Item refresh for browsers without full Referer urls, like Audrey.</P>
<P>- Updated the web server to redirect directory links to add a trailing /,
(e.g. <A HREF="http://epods">http://epods</A> -&gt; <A HREF="http://epods/)">http://epods/)</A> so we can rely on relative links.</P>
<P>- Added mh.ini -no_speak errors option to disabled speaking warnings of user code errors.</P>
<P>- Fixed a problem with the X10_Sensor expired battery check.</P>
<P>- Print a warning if password_file is missing.</P>
<P>
<H2><A NAME="version 2.59 posted on 09/23/2001">Version 2.59 posted on 09/23/2001</A></H2>
<P>Version 2.59 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Lowered %cpu used by improving cache hits by sleeping twice per loop, rather than once.
My linux box showed a 30% reduction in cpu used with the same passes per second.
My Win 2k box showed cpu used going from 4-&gt;20% to 0-&gt;4% used (sleep time=10, Loops/sec 30, Pentium III 600 mhz).
You may want to cut your sleep time in half (e.g. 100 -&gt; 50) to keep the same loops/sec speed.
Another benifit to this change is the speed benchmark table now shows less dependence on 
code position (abc members used to get run faster than xyz members, because the xyz members got swapped from
cache more often).
Also added OTHER and USER entries to the speed benchmark table, to measure time spent in and out of the user code loop. 
</P>
<PRE>

- Added support for the new Windows MS Voice SDK 5.1 TTS engine (but not the VR engine yet).  
This allows for control of volume, rate, pitch, and voice.  For example:</PRE>
<PRE>
  speak voice =&gt; 'Mike', volume =&gt; 50, rate =&gt; -5, text =&gt; 'Hi';
  speak voice =&gt; 'Mary', volume =&gt;100, pitch =&gt; 5, text =&gt; 'Bye';</PRE>
<P>To set the defaults, call speak without text (e.g. speak voice =&gt; 'Sam').
The new engines also supports embedded XML parms for other on-the-fly controls (e.g. pitch, silence, pronounce, emphasis).
Another new speak option is to_file, so you can save the synthesized speech to a file, then play it.
For examples, see mh/doc/ms_speech_xml_example.*, mh/docs/mh.*, and mh/code/bruce/test_speak.pl.
A pointer to the 5.1 download is in the MS SDK 5.1 instructions  secion of mh/docs/install.*
Note:  5.1 drops support for Win95.</P>
<P>- Rob Walker suggested and David Norwood implemented an Emacs like date specification for day-of-week type holidays
(e.g. Labor Day).  David also populated the mh.ini holiday_dates parm with popular holidays.</P>
<P>- Roger Bille sent in mh/code/public/sms1.pl as an example of how to interface to SMS with a GSM modem.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- John Edmonds discovered that MS CE browsers (e.g. epods) were not picking up the alternate browser pages.</P>
<P>- Robin Edwards discovered a problem with web commands from Netscape 6.1.</P>
<P>- Ron Klinkien updated mh/code/public/webcam_ron.shtml</P>
<P>- Samuel Bagfors sent in mh/code/public/ImageWebSub.pl as an example of a web icon selecting function.</P>
<P>- Walter Leemput found a memory leak in the reload code command (doubled memory after 4-5 reloads).</P>
<P>- Harald Koch sent in an update so mh works with the latest Jabber (an open source instant messanger service). 
This requires perl 5.6+ as well as current modules from CPAN (the Activestate ppm ones are too old).
See the header in mh/code/test/internet_jabber.pl with more info.</P>
<P>- Donald Mason discovered that preset-dim X10 codes ##% were disabled in the 2.57 release.</P>
<P>- Jeff Pagel discovered the iButton monitor didn't work with more than one ibutton port.</P>
<P>- Added a serial_wx200_skip option to turn off specified weather sensors  ... guess who had lost one in a lightning storm :{</P>
<P>- The latest Windows perl builds from Activestate (6.28+) have fixed the leak memory problem,
although initial virtual memory used is bigger by about 40%.  
Real memory used and passes-per-second are about the same.</P>
<P>- Updated outlook_read to work with perl 5.6 (dates were being returned as Win32::OLE::Variant objects).</P>
<P>- Updated HTML table extraction to work with perl 5.6.</P>
<P>- Updated internet_data.pl to work with the latest Letterman top 10 list.</P>
<P>
<H2><A NAME="version 2.57 posted on 08/12/2001">Version 2.57 posted on 08/12/2001</A></H2>
<P>Version 2.57 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P>Note:  A change this release requires all of us in the Western Hemisphere (e.g. Americas and Canada)to 
follow the common convention of using a negative time_zone and longitude mh.ini parms.</P>
<P><STRONG>New Features:</STRONG></P>
<P>- Added these new speak mode options for controling spoken text
(currently only for the MS TTS engine):
stop, pause, resume, rewind, fastforward, slow, normal, fast, ###.
The speak rate option also supports slow, normal, fast, and ###.  
### is words per minute.  For example:  speak rate =&gt; 200
Added mh/code/common/mh_sound.pl commands ``Set speech to 'stop,pause,....'''</P>
<P>- Walter Leemput created mh/code/public/irvs and irvs_server.pl (linux only).  
These allow for mh control via DTFM phone menus using 
the Irvs.pm module from CPAN and a voicemodem.</P>
<P>- Ron Klinkien sent in mh/code/public/webcam_ron.pl and webcam_ron.html.
These files create a simple webcam, using a command line frame grabber.</P>
<P>- Jeff Crum sent in mh/code/public/copycode.pl
for copying voice commands from one mh computer to another.</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Jean-Marie Martin and Harald Koch noticed mh was not 
calculating sun rise/set times correctly those people in the Eastern Hemisphere. 
This fix requires all of us in the Western Hemisphere to use negative time_zone and longitude mh.ini parms.</P>
<P>- Benny Miller updated mh/code/public/iButton_ws_client.pl</P>
<P>- Ron Klinkien and David Norwood found a 2.55 bug with shtml files.</P>
<P>- Ian Davidson discovered a bug with sending out non-X10 serial data with ##% strings.</P>
<P>- David Norwood added an IR_Item code of addEnter, which 
adds an ENTER command after any numbers, so changing channels is 
faster on devices that wait for a timeout like the Ocelot.</P>
<P>- David Norwood created a California specific mh/code/public/internet_earthquake_cal.pl</P>
<P>- Clive Freedman fixed a bug in get_tv_info that messed up searches for shows that started before 6am.</P>
<P>- Jeff Pagel found a problem with iButton monitor when using a 2nd iButton port.
We also discovered a 2nd port did not work as documented.
Updated the iButton.pl example to point to $config_parms{ibutton_port2} rather than 'ibutton_port2'.</P>
<P>- Larry Roudebush found a problem when running -no_load tk_frames.pl to 
get tk windows without the main tk window (button widgets still tried to load).</P>
<P>- Added format=4 to mh/lib/Caller_ID.pl to support the Call Waiting Caller ID 
NetCallerID box.  See mh/code/bruce/phone_netcallerid.pl for an example.
Another option is Timothy Spaulding's mh/code/public/NetCallerID.pl.</P>
<P>- Disallow objects with the same group names in .mht files.</P>
<P>- Add a duplicate object name check.</P>
<P>- Fixed a bug with the distance reported by mh/code/bruce/tracking_aprs.pl (was way too small for long distances).
Also added an option to track vehicles via aprs internet gateway data, so you can keep track of
family when they are on a long road trip (wife just drove to Berkley and back).</P>
<P>- Add a Daylight Savings Time check to internet_iridium.pl.</P>
<P>- Added mh.ini parm http_fork.  Windows users will want to set this to 1 to enable
the forking feature added in 2.55, which avoids mh pauses with slow remote web sites 
request data.</P>
<P>- Added mh.ini ibutton_tweak parm.  If you are having problems with ibuttons, 
set this to 1 to enable a small delay that Stoll Thomas and Kevin Olalde discovered they needed on their boxes.</P>
<P>- Make a 2.52 change to the the &amp;play function specific to OSx.  On all other unix OSes, 
use a system call, rather than a fork call, to avoid problems with bad return codes causing 
the same wav file being played multiple times.</P>
<P>
<H2><A NAME="version 2.54 posted on 06/26/2001">Version 2.54 posted on 06/26/2001</A></H2>
<P>Version 2.54 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- mh now forks to a background process when serving large (&gt; 2k) web pages.  This avoids pauses in mh
when being accessed by slow web browsers.   On windows, we play some magic to emulate a fork
with a process that inherits the socket port, so this still works on the older pre 5.6 versions of perl.
This change also fixes the bug that 
Damon Hopkins discovered with Netscape haning on browsing big (&gt; 20k) mh web pages.</P>
<P>- Started work on a mh proxy server, to deal with talking to slow serial port interfaces
like the CM11 and CM17, but this is not quite ready for prime time.</P>
<P>- Craig Schaeffer sent in mh/web/epods files.  http_server.pl was updated to allow for local 
style sheets, so different web directories can have different looks.  Updated mh/bin/mh.ini html_*1 parms
to use these pages by default when accessed from Windows CE web browsers (e.g. epod web tablets).</P>
<P>- If you want to simulate different browsers, you can now override the format used with a new mh.ini
web_format parm.  For example, mh -web_format 1  will use the CE epods pages.  Or you can add a tk button
to change back and forth with this:</P>
<PRE>
  &amp;tk_radiobutton('Web format',  \$config_parms{web_format}, ['default', 1, 2]);</PRE>
<P>- Evan Graham wrote mh/code/public/winamp_control.pl, which allows for 
direct control of WinAmp through misterhouse without using any special plug-ins.
This allows for a larger number of commands available, some of which will 
allow you to query the status of the playback.</P>
<P>- Timothy Spaulding wrote mh/code/public/NetCallerID.pl to interface with the $30 NetCallerID box.  
In addition to normal CallerID, it supports Call Waiting CallerID (callerid while you are on the phone).</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Cleber Schereder found a problem parsing mh.ini parms with an embeded # character.</P>
<P>- Henry Laxen discovered a non-mh version of Astro::SunTime.pm caused problems 
(bad sunset time and no twilight calculation), 
so I moved mh/lib/site/Astro/SunTime.pm to mh/lib/SunTime_mh.pm</P>
<P>- Clive Freedman added a 'request a file' option to internet_mail.pl, so you can send an email 
request to home and mh will send the requested file back.
See 'Send test e mail 10' (in internet_mail.pl) for an example.</P>
<P>- Kent Noonan added format=3 to  mh/lib/Caller_Id.pm for use with ZyXEL u1496 modems.</P>
<P>- Jean-Marie Martin discovered a 2.52 problem with web pulldown menus.</P>
<P>- Brian Klier updated mh/code/public/Brian/tracking.pl with lots of fixes, including a fix from
Roger Bille that fixed an inaccuracy in  MicE longitude data.</P>
<P>- Kieran Ames found a problem with user code files with blanks in the names.</P>
<P>- Tom Vanderpool noticed only the first 8 characters of a password are used.
This is a crypt limitation we can not easily work around, so I updated the docs to note this.</P>
<P>- Roger Bille updated mh/bin/get_email to passed $body to get_email_rule.</P>
<P>- Scott Tisdale created an UltraEdit template: mh/data/mh_template.ultraedit</P>
<P>- Clive Freedman updated mh/code/public/weather.pl (parses wunderground.com data) 
to add non-US functionality, simple data variables
which can be accessed from other scripts, and logging to a table.</P>
<P>- Joel Moore escaped &amp; in menu_code.pl for UP wap browsers and added a -no_log mhsend_server option.</P>
<P>- Moved the web overlib popup window to below, not over, the command.</P>
<P>
<H2><A NAME="version 2.52 posted on 05/28/2001">Version 2.52 posted on 05/28/2001</A></H2>
<P>Version 2.52 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- David Norwood created mh/lib/Audible_Menu.pm and mh/code/public/audible_menu.* 
This code can be used for walking through mh menus with just one or two
switches (e.g. air sip switches for the disabled), using
audible feedback to help pick menu items/states.</P>
<P>- Brad Reed added mh.ini parm viavoice_voice to allow voice_text=viavoice or vv_tts
users to select a default voice.   We also now allow on-the-fly voice changes (viavoice only): 
e.g. speak ``voice=male Yo, Adrian!''.</P>
<P>- Greg Satz sent in updates so mh speak and play on the Mac OS X.</P>
<P>- Tim Doyle created mh/code/public/aqualink.pl for the Jandy AquaLink RS pool/spa controller.</P>
<P>- Jeff Crum sent in mh/code/public/date_functions.pl with various date functions like
finding the day of the first/last day of the month.</P>
<P>- Added Process_Item set_output method, so we can store process results to a file.  
Modified internet_connect_check.pl to use this instead of the dorky ping_to_file command, 
and to also work on unix.</P>
<P>- Added (currently windows only) mh/bin/find_files and find_programs.   
find_files finds files on shared networked Windows and samba directories.
find_programs finds programs running on networked Windows computers.
See mh/code/bruce/find_files.pl and monitor_programs.pl for an example.</P>
<P>- Added mh/lib/xml_server.pl, so other xml based programs can get data from mh.
Point an XML browser (e.g. IE) to: <A HREF="http://localhost:8080/sub?xml">http://localhost:8080/sub?xml</A></P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Joey Smith discovered a problem with comments returned from web server include files.</P>
<P>- David Norwood and Damon Hopkins came up with an addition to x10_ma26.pl to allow
the MR26a to relay RF X10 commands to the powerline.</P>
<P>- Wally Kissel noticed that display file.gif (or .jpg) was no longer worked.
Turns out it was busted way back in 2.41!</P>
<P>- Clive Freedman added an time_cron option to allow it to test on all passes, not just New_Minute passes.</P>
<P>- Kieran Ames send in mh/code/public/phone_logs.pl.</P>
<P>- Allow for strings with odd characters like &amp; to be processed in html forms.</P>
<P>- Updated mh/lib/Weather_wx200.pm to use an mh.ini altitude
parm to calculate sea level barometric pressure. 
Also updated Weather_upload.pl to use $Weather{BaromSea}.</P>
<P>- Allow unix Process_Item and run calls to programs in your PATH, without fully qualifying the path.</P>
<P>- Added mh.ini sound_dir_common, so you can use sound_dir to point to your own wav files
without having to copy the default mh/sounds files.</P>
<P>- Moved the mh_temp files from code_dir to data_dir.</P>
<P>
<H2><A NAME="version 2.51 posted on 05/06/2001">Version 2.51 posted on 05/06/2001</A></H2>
<P>Version 2.51 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added mh/lib/X10_MR26.pm and deleted mh/code/public/x10_mr26*.  This $30 RF receiver will process
X10 data from all house codes of any RF X10 remote, including keys like Play/Stop/Rew/FF from many of the
universal X10 remotes.  To enable, use the 2 new mh.ini MR26* parms.</P>
<P>- Added mh.ini parm x10_multireceive_delay so we can have mulitiple X10 receivers, but only process
the data once.  This allows us to process immediate incoming RF X10 data from the MR26 without having
to wait for the slower power line data.  Defaults to 3 seconds.</P>
<P>- Added menu P: records to allow for bypassing Passwords on specified menus/commands.
See mh/code/bruce/test.menu and/or mh/docs/mh*.
Also allow for menu level defaults in the menu code for R: and P: records.</P>
<P>- David Norwood enabled volume control for linux users.  To enable, install the new
Audio::Mixer module with this:  perl -MCPAN -eshell;  install Audio::Mixer</P>
<P><STRONG>Bug Fixes and Other Changes:</STRONG></P>
<P>- Damon Hopkins discovered that Netscape would hang on browsing big (&gt; 20k) mh web pages.
Unfortunatly, I have not figured out the fix for this problem yet.</P>
<P>- Scott Johnston dropped () around channel name in get_tv_grid, so Fesitval would work ok.</P>
<P>- Kieran Ames suggested adding the 'What did you say' command, to repeat the last spoken text.</P>
<P>- Clive Freedman spotted a problem with email commands with trailing blanks.</P>
<P>- Thomas Stoll sent in some updates for ibutton (added DS1921 and DS2438 support),
callerid (for international calls), 
and voice (so allow for arbitrary key=value options to be passed to the TTS engine).</P>
<P>- Joel Moore suggested a new mh.ini clicktv_label=none parm for disabling tv web page vcr links,
and added the perl version to the web About menu.</P>
<P>- Paul Wilkinson sent mh/code/public/printer_control.pl as an example of how to turn
a printer on/off based on a unix print spool file.</P>
<P>- Evan Graham updated the MR26A code for use with the 4 button keycahin remotes (HC40TX).</P>
<P>- Damon Hopkins added state to 'List X10 items'.</P>
<P>- Added a -voice_text 'program xyz' option, so mh can use an arbitrary xyz TTS program. 
Greg Satz is working on a Max OS X TTS program.</P>
<P>- Changed the iButton monitor function parms from $port to $family,$port for consistency.
Those with 2+ iButton ports will need to update your code.</P>
<P>- Fixed the run commands of the vxml/html menu code.  Bypass authentication check on  set_authority 'anyone' objects.</P>
<P>- Fixed a bug that disabled some VOICE .mht table entries.</P>
<P>- Fixed the previous menu in the vxml tellme menus.</P>
<P>- Fixed a bug that gave no on/off links to groups in the initial web page.</P>
<P>- Fixed the web page state of conditional weather items (e.g.  $freezing = new Weather_Item 'TempOutdoor &lt; 32');</P>
<P>- Fixed get_url call in internet_iridium.pl on windows boxes (DOS needs `` not ' quotes).</P>
<P>- Added FAQ 6.8: What sort of hardware do you have in your house?</P>
<P>- Added a sound event when mh pauses.  Also added a data/logs/mh_pause.*.log file to track mh pauses.</P>
<P>
<H2><A NAME="version 2.49 posted on 04/15/2001">Version 2.49 posted on 04/15/2001</A></H2>
<P>Version 2.49 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Created a LCD object, so we can support multiple LCD keypads.
See mh/docs/mh.* and/or mh/code/bruce/lcd.pl for an example. 
To use simulate an LCD keypad with your pc keyboard, use mh/code/test/lcd_keyboard.pl</P>
<P>- Wap phone authorization is now enabled.  If your phone supports standard password authorization, you will be prompted
for a password (user name can be left blank), when you select a menu command to run.  Or if your phone sends a unique x-up-subno
field, you can specify that in a new mh.ini password_allow_phones parm (see mh/bin/mh.ini for more info).</P>
<P>- Many minor changes to the web server to enable device dependent html.
We can now have style sheets local to a web subdirectory and serve different style sheets to different browers.
For example, web pages displayed on an epod can have different html stylesheets than the same page displayed from Netscape.  
Craig Schaeffer is working on an example set of epod web pages (not yet in this release).</P>
<P><STRONG>Examples, Bug Fixes, and Other Changes:</STRONG></P>
<P>- Ian Davidson found an 2.47 problem when running -debug serial</P>
<P>- Tom Vanderpool spotted a change in the clicktv get_tv_grid url (drop the WSN string).</P>
<P>- Craig Schaeffer sent in an update mh/code/public/internet_ip_update_craig.pl for updating dynamic ip addresses to a web page.</P>
<P>- Craig Schaeffer found a duplicate states problem with the vxml menu code.</P>
<P>- Robert Rozman found a problem with state data in the LCD menu_code.  Numerous other bugs from the new menu_code were also fixed.</P>
<P>- Scott Johnston ran into a 500 phrase limit in viavoice_server.  We bumped the limit to 5000.</P>
<P>- Wally Kissel added SendKeys functions SetWindowText GetWindowText (windows only).</P>
<P>- Douglas Parrish added mh/code/public/callerid_doug* files for processing callerid data with ties to
DB files and PHP web pages.</P>
<P>- Ian Davidson updated mh/lib/LCD.pm with an example of how to talk to serial attached LCD keypads.</P>
<P>- Mark Dahmke found a problem with blanks in the mh.ini password_allow_clients string.</P>
<P>- Brandon verified that RCS_Item works with the TX15B thermostat.</P>
<P>- Kent Noonan found a problem with the vxml tellme menu when using mh.ini parm http_server=localhost.</P>
<P>- Stoll Thomas added a small delay to the iButton code to get it to work on his win 2k box.</P>
<P>- David Norwood enabled relay with the CPU-XA/Ocelot.  An example:  $back_yard_sprinklers = new Serial_Item('OUTPUT11high', ON, ``ncpuxa'');</P>
<P>- Fenghua Zong updated mh/code/public/x10_mr26.pl to pass key inputs like Play/Stop/Rew/FF to mh.</P>
<P>- Clive Freedman updated get_tv_info and added a mh.ini parm tv_key_symbol to highlight search words in tv search results.</P>
<P>- Mark Dahmke noticed that the main web page was not immediately displayed after logging in with password_protect=all.
WAP phone menus with this parm were also fixed.</P>
<P>- Fixed mh.bat so that it does not loop on normal mh exit on windows 98.</P>
<P>- Updated weather_upload.pl not to use strftime, which was an hour off with with the change in daylight savings time.
</P>
<PRE>

- Added a passive option to net_ftp.</PRE>
<P>- Updated mh to it can be started from any directory, not just the mh/bin/mh dir.</P>
<P>
<H2><A NAME="version 2.47 posted on 03/24/2001">Version 2.47 posted on 03/24/2001</A></H2>
<P>Version 2.47 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added template based menuing code.  This allows us to create nested menus for use with web browsers, LCD displays,
WAP phones, and vxml based phone voice portals.  To enable, copy mh/code/test/menu.pl and test.menu.
More information can be found here in mh/docs/mh* or here: <A HREF="http://misterhouse.net/mh.html#Customizing_the_Menu_interfaces">http://misterhouse.net/mh.html#Customizing_the_Menu_interfaces</A> . 
I have not yet implemented an authorization scheme for the vxml or wml menus, so you will want
to limit the commands to harmless commands disable non-local access of those functions by modifying the Password_Allow
records in menu.pl.</P>
<P>- Added mh/bin/backup_data.  This allows for periodic smart backups, with options for daily age
based backups and/or less periodic full backups, with options to filter based on file/dir name or size.
It defaults to using tar and gzip.  It also has an option to use perl modules from CPAN, but they are slower and
use more memory.  Here is how I do daily and monthly cross backups between 2 different networked computers:</P>
<PRE>
   <A HREF="http://misterhouse.net/mh/code/bruce/backup.pl">http://misterhouse.net/mh/code/bruce/backup.pl</A></PRE>
<P>- X10 bright/dim commands will now set the selected X10_Item objects to the correct bright/dim states
(used to be only house code X10_Items were set).  Also added a 'level' method to X10_Item, so 
you can query what mh thinks the current brightness level is after one or more bright/dims.</P>
<P><STRONG>Examples, Bug Fixes, and Other Changes:</STRONG></P>
<P>- David Norwood fixed a problem with internet_iridium.pl on unix boxes.</P>
<P>- Wally Kissel sent in mh/code/public/x10_mr26_wally.pl,
code that shows how to listen to the wireless MR26A remote.</P>
<P>- Mark Holm's sent in mh/code/public/x10_video_security.pl,
code for a video surveillance system using X10 XCAM cameras and motion sensors.</P>
<P>- John Moore sent in another example unix .rc file for starting misterhouse (mh/bin/misterhouse_john.rc).</P>
<P>- Brent Gross suggested we have a way to disable commands like 'reboot the computer',
so we added mh.ini parm disabled_commands, which defaults to mh/data/disabled_commands.</P>
<P>- Clive Freedman fixed a couple of bugs in get_tv_info.</P>
<P>- David Norwood added mh/bin/get_finger and updated mh/code/public/internet_earthquakes.pl
to use get_finger, rather than get_url.</P>
<P>- Donald Hoffman sent in a patch to http_server.pl involving SET on a scalar.</P>
<P>- Bill Sobel added time_greater_or_equal and time_less_or_equal, like time_grather_than and time_less_than.</P>
<P>- Bill Sobel added a check to allow Windows NT/2k to use COM10+ ports without the dorky \\.\ prefix.</P>
<P>- Riad Wahby updated the AOL AIM module with a timeout option (no more mh hangs when unable to logon).</P>
<P>- Jean-Marie Martin added more states to the (Canadian?) X10_Ote item and X10O to read_table_A.pl.</P>
<P>- Ingo Dean added a X10 Motion_Sensor object that will send a 'dead battery' message if it has not heard
from the sensor after 24 hours.</P>
<P>- Stuart Grimshaw and Mark Mabry fixed a 'RUN command not found' http_server bug that some browsers had.</P>
<P>- Ian Davidson found an error in reading '0' from serial ports.</P>
<P>- Tim Doyle added a VOICE option to format=A mht tables.</P>
<P>- Bill Sobel sent in a bunch of changes:
Compool now incudes new state checks.
Stargate includes more support for stargate variables,
thermostats (fully working), flags (in process), timers (in process),
digital inputs (fully working), relay output (read status, not set yet),
analog inputs (not done yet), and some  Stargate485 fixes.
Read_Table_A includes some of the new (and renamed) Stargate devices.</P>
<P>- Modified the web server to process all current get request in one pass, for faster refresh
of web pages with lots of icons/scripts, especially on slower computers.</P>
<P>- Added a timer to mh/lib/Voice_Text.pm so the pa_control is_speaking test will work for all the TTS engines.</P>
<P>- Updated mh/lib/CallerID.pm so it supports more than one local area code.</P>
<P>- Updated so that mh will use its own updated HTML::FormatText, rather than one in your perl path,
so that table extraction works ok on all installations (e.g. internet_data.pl top 10 list).</P>
<P>- Added 'Enable/Disable all code files' in mh/code/common/disable_code.pl (for performance debug).
Also added a $Disable flag for selecting internal mh functions for debug.</P>
<P>- Fixed a bug in that would cause mh to slow down if net_domain_name was called many times. 
I discovered this after my mh slowed down from 60 loops/second to 30 loops/second after about
4 days of high http service (about 400 clients / 4000 hits a day).</P>
<P>- Re-ordered loopcode subs according to the optional Position directive.</P>
<P>
<H2><A NAME="version 2.45 posted on 02/24/2001">Version 2.45 posted on 02/24/2001</A></H2>
<P>Version 2.45 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- mh.ini files can now reference other $config_parm variables. 
For example, the default alias for the <A HREF="http://localhost/tv">http://localhost/tv</A> is now $config_parms{data_dir}/tv, 
so it now points to whatever you have your mh.ini data_dir variable pointing to.</P>
<P>- Added a run_after_delay function, so we can add delays in user code without causing mh to pause.
This is code is from the examples in mh/code/examples/test_delay.pl:</P>
<PRE>
  print_log &quot;Starting delay test&quot;;
  run_after_delay 2, sub {
     print_log &quot;Ending delay test&quot;;
  }</PRE>
<P>- Tim Doyle send in mh/code/public/internet_earthquake.pl for monitoring earthquakes.</P>
<P>- Created mh/code/bruce/internet_iridium.pl to announce when one of the now
defunct Iridium satellites will create a 1-3 second flash at the coordinates specified
in the mh.ini lat, long, and time_zone parms.  
These flashes can get up to a magnitude of -8 ... almost as bright as the moon!</P>
<P>- Added mh/code/common/disable_code.pl.  The 'disable code test ...' commands can be used
to sequentially disable code files to debug memory and/or time related problems.</P>
<P><STRONG>Examples, Bug Fixes, and Other Changes:</STRONG></P>
<P>- Amaury Jacquot noticed a messed up mh.ini html_alias_tv parm that broke get_tv_grid saves. 
To ease upgrades, I moved the default tv dir from mh/web to mh/data and added instructions
to the 'Coding your own events' section of mh/docs/install on how to create your own data dir 
that will remain untouched between mh upgrades.</P>
<P>- Danal Estes noticed that the 2.43 change to mhl did not work for win98. 
We fixed this and renamed mhl.bat to replace mh.bat.</P>
<P>- David Norwood updated bin/get_tv_grid for better pull down menus and
code/tv_grid.pl to auto-refresh the default tv web page to the current hour.</P>
<P>- David Norwood also fixed network socket reading code in ncpuxa.pm that was causing poor performance.</P>
<P>- Evan Grahaet, David McLellan, and Doug Nakakihara
sent in alarm clock examples (mh/code/public/alarmclock_*.pl)</P>
<P>- Doug Nakakihara noticed that a set_index 0 on a File_Item didn't work.</P>
<P>- Doug Mackie sent in an updated iButton_ws_client.pl (iButton Henriksen server client).</P>
<P>- Evan Grahaet discovered that web Tk widgets dissapear when doing a web reload.</P>
<P>- Brad Reed noticed that tabs were messing up mh.ini entries.</P>
<P>- Bill Bass sent in points a nice set of links on X10 info
(added to FAQ question 6.6 What is X10?).</P>
<P>- David Norwood updated lib/ncpuxa_mh.pm to add support for additional X10 commands like status, preset_dim0, and preset_dim1.</P>
<P>- Clive Freedman updated get_tv_info to not highlight keywords.</P>
<P>- Fenghua Zong noticed a problem with get_weather not parsing conditions with blanks (e.g. LGT RAIN -&gt; light rain).
We fixed it by updating to the latest mh/lib/site/GEO/WeatherNOAA.pm from CPAN.</P>
<P>-Bill Sobel updated Compool.pm to fix problems in noisy environments by detecting the ack or nak
generated by the controller and resending packets if required.
He also updated Stargate485.pm to add send support for the RCS485 thermostats.</P>
<P>- Evan Graham send in mh/code/public/pa_control_evan.*, as an example of controling which 
rooms mh speaks/plays to using weeder DIO kit controled relays.</P>
<P>- Fixed the new TOGGLE state for X10_Items.</P>
<P>- Fixed uptime in the mh_control 'What is your uptime' command.</P>
<P>- Fixed a couple of Timer_Item problems
(set was not valid for a full pass and the time could get reset to a minute boundary).</P>
<P>- An updated mh/lib/site/Geo/Weather.pm module for the new weather.com format.</P>
<P>- Allow for non-numeric months in my_str2time (e.g. Jan or january).</P>
<P>- Changed the mh.ini and sun_time calculations to allow for the more correct notation of
negative numbers for time_zone and longitudes for those of us in the western hemisphere (e.g. North/South America).
This is required for the new earthquake and iridium code to work correctly.</P>
<P>- Added mh.ini term=readkey option (unix only).  The default is now NOT to monitor keys, since
that dis-allows a detached mh (e.g. mh &amp;).</P>
<P>- Split the mh.ini sound_pre parm into sound_pre_speak and sound_pre_play, so we can control
delay and prefix sounds to wav and TTS sounds separately.</P>
<P>- Added left justification to tk_label text, so multi-line labels look ok.</P>
<P>
<H2><A NAME="version 2.43 posted on 02/03/2001">Version 2.43 posted on 02/03/2001</A></H2>
<P>Version 2.43 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Switched to a new AOL AIM module from CPAN, so mh/test/internet_im.pl works better.
Like internet_jabber.pl (which is currently not working), we can now send and receive messages.</P>
<P>- Add a restart option to &amp;exit_pgm and modified mhl.bat (unix mhl did not need any updates)
so we can have mh restart itself with the new 
mh/code/common/mh_control 'Restart Mister House' command.
This will only work if you start mh with mh/bin/mhl (l stands for loop).</P>
<P>- Bill Sobel suggested adding new Generic_Item methods tie_time and tie_filter.
tie_time will set the item if the specified time_cron or time_now string is true.
tie_filter will disable control of the item if the specified filter returns true.
Examples are in mh/code/examples/test_tie.pl.  Here are 2 examples:</P>
<PRE>
   $fountain -&gt; tie_time('10PM', OFF);
   $fountain -&gt; tie_filter('state $windy eq ON', ON);</PRE>
<P>- Bill had 2 other ideas to help in event logging.
All the tie_* methods now support an optional log message.
We also can now specify a specific logfile using a log=logfile 
prefix to any print_log text.  For example:</P>
<PRE>
  print_log 'log=test1.log Logged in code_dir/test1.log';
  $fountain -&gt; tie_time('0 17 * * * ', ON, 'log=fountain Fountain turned on';</PRE>
<P>These will go into the data_dir directory.  We also moved the default print, speak,
and error logs from the code_dir to the data_dir directory.</P>
<P>- Added a print_log ``Running: xyz'' when Voice_Cmd xyz is run</P>
<P>- Clive Freedman sent in a FAQ of common Perl and mh coding errors in mh/doc/faq_damnblast.html (also linke in faq.html).</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Kees Cook updated the Unix SerialPort module to work better with fast I/O, Solaris, AIX, and OpenBSD.</P>
<P>- Mike Pearce found a bug in $Season.</P>
<P>- Craig Schaeffer had a patch for iButton.pm read_dir and read_windspeed.</P>
<P>- Roy Thompson updated X10_IrrigationController to support 16 modules.</P>
<P>- Bill Sobel suggested adding the .5, .25, and .1 second flags $New_Msecond_500/250/100.
He added these to a few of hist modules in mh/lib to improve mh efficiency.</P>
<P>- Brad Reed fixed CM11.pm to correctly reset the internal CM11 clock to the right time.
We also changed mh to set the CM11 clock and reset the buffer on mh startup.</P>
<P>- Fenghua Zong found the periodic 'Saving object states' would start working only after an mh pause.</P>
<P>- Scott Johnston discovered we inadvertantly changed the unix mh.ini sound_program default from play.</P>
<P>- Scott Johnston also sent in a fix for a new clicktv.com url in get_tv_grid.</P>
<P>- Timothy Spaulding suggested we have a -no_log speak option to avoid printing spoken text to the console if -tk 0.</P>
<P>- Brian Paulsen made some more improvements to the iButton code.</P>
<P>- Brad Reed, through painstaking testing, discovered the cause of the cause of his CM11 errors.
It turns out the fork we were doing when voice_text=viavoice caused the child process to reset all the serial ports!  
We also merged in his voice_text=viavoice patch from his website.</P>
<P>- Evan Grahaet noticed a problem when setting timers with the web interface.  Now the timer will start only 
when the time field (not the text field) has changed.</P>
<P>- Bill Sobel sent in these updates:</P>
<PRE>
  Compool: fixed solar and air temp calculations (turns out
  they are calculated differently then pool and spa temps)</PRE>
<PRE>
  Read_table_A: added support for stargate thermostat items</PRE>
<PRE>
  Stargate485.pm: added support for stargate thermostats 
  (RCS 485 thermostats, should be able to be used even
  without the stargate eventually).  Also fixed RTS bug
  that caused it to hog the serial line.</PRE>
<PRE>
  Xantech.pm: string comparison fix (!= changed to ne)</PRE>
<PRE>
  HomeBase.pm  Added a send_telephone function and a .ini
  setting to disable receiving x10 events from the homebase</PRE>
<P>- Stuart Grimshaw removed mh/lib/SMS_Item.pm (for sending SMS messages to mobile phones in Europe) at the request 
of the <A HREF="http://www.smsboy.com">http://www.smsboy.com</A>  guys.</P>
<P>- Clive Freedman update get_tv_info to add hypertext links for setting VCR,
highlighting the selected key-word, early morning searching,
debugged searching for shows in progress, UK dates,  and changed plural and upper-case recognition.</P>
<P>- Tony Drumm noticed that he could not get his CM17 firecracker to work under linux
until he did h2ph linux/posix_types.h.  We added that to mh/bin/configure.</P>
<P>- Chris Witte suggested we reuse and expose the X10_Item set_with_timer timer object.</P>
<P>- Fixed a Time::HiRes error on restoring a timer on Unix.</P>
<P>- Added a $Power_Supply object to mh/code/common/mh_control.pl. 
Currently only detects a power reset from a CM11.</P>
<P>- Added File_Item get_index to replace a poorly named index method.</P>
<P>- Updated the mh SNPP.pm module so snpp_pager would work.</P>
<P>- Added a tk_startup_cmd option.  Useful for debugging when you want to have 
the tk command list start with a specfic set of commands.</P>
<P>- Added a display append option (e.g. appending messages to the AOL AIM chat window).</P>
<P>- Added Generic_Item toggle state so we toggle devices ON/OFF like this:</P>
<PRE>
     set $light TOGGLE   if new_second 10;
or 
     set $light 'toggle' if new_second 10;</PRE>
<P>- mh.ini parm html_select_length (controls when drop down select forms are used)
now also applies to the Items web menus.</P>
<P>- Fixed a problem with unix computer uptime with uptimes &gt; 40 days.</P>
<P>
<H2><A NAME="version 2.41 posted on 01/20/01">Version 2.41 posted on 01/20/01</A></H2>
<P>Version 2.41 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Brian Paulsen re-wrote the iButton code for much improved reliability.
He also added iButton::Weather (see example at the end of iButton.pl).</P>
<P>- Brent DeShazer added mh/bin/snpp_page, for doing snpp paging via the internet.</P>
<P>- Added net_domain_name_start and net_domain_name_done, so that we can lookup domain names in
the background without the danger of mh pausing.
See mh/docs/mh.* or  mh/code/examples/test_dns.pl and  mh/bruce/monitor_router.pl for examples.</P>
<P>- Re-wrote mh/code/common/benchmarks.pl.  'Run speed benchmark' will now create 
a tk window with with the average amount of time used (in milliseconds) for each code member.
If not using tk, the results are also logged to data_dir.
On Unix, this option will not work too well unless you have Time::HiRes installed.
Unlike the previous benchmark code, this should allow for a quick and pretty painless
way to find slow running code members.
For example, this record in computer_data.pl caused an unneeded slowdown:</P>
<PRE>
  $disk_drives = join(',', Win32::DriveInfo::DrivesInUse()) if $OS_win;</PRE>
<P>Without a 'and $Reload' added, it made that call on every pass, and the DriveInof function is pretty slow.</P>
<P>- Added a window_name option for the display function, so we can re-use a tk window (e.g. above benchmark code).</P>
<P>- John Snow came up with the idea of using a CM11 to detect power outage.  Here is an example:</P>
<PRE>
  if ($ControlX10::CM11::POWER_RESET) {
      display time =&gt; 0, text =&gt; &quot;Detected a CM11 power reset&quot;;
      $ControlX10::CM11::POWER_RESET = 0;
  }</PRE>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Anders Baardsgaard sent in a bsd patch to avoid shelling out to find $Time_Boot_time on FreeBSD.</P>
<P>- Ron Klinkien fixed set_clock so it works on FreeBSD.</P>
<P>- Roger Bille sent in code to support a new mh.ini default_temp=Celsius  parm.
Currently this is only used by mh/lib/iButton.pm</P>
<P>- Ray Dzek created a 'how to get started with iButton guide' at
<A HREF="http://www.solarbugs.com/home/ibutton.htm">http://www.solarbugs.com/home/ibutton.htm</A> (added a link to faq and mh docs).</P>
<P>- Fenghua Zong discovered that we goofed up with a 2.39 update to vv_tts.pl
(should not have changed ViaVoiceTTS to TTSClass).</P>
<P>- Fenghua Zong also sent in an update to Voice_Cmd.pm that tunes some delays so ViaVoice will work 
better on some faster computers.  Someday we will need to update the viavoice_server code with 
better handshaking so it is less dependent on hardcoded delays.</P>
<P>- Tony Drumm created mh/code/public/wxserver_client.pl and wxserver_server.pl.
The client code populates the mh %weather array with data from a wxserver.
Tony also has a program on his web site that will serve weather data data from 
a Peet Brother's weather station (e.g. Ultimeter 2000).</P>
<P>- Jean-Marie Martin found a problem with processing .MHT (rather than .mht) files.</P>
<P>- Clive Freedman fixed $Time_of_Day so it is night rather than afternoon prior to 5 am.</P>
<P>- Brian Paulsen modified mh/code/public/rrd_graph to make it a bit easier to add/remove rooms.</P>
<P>- Ian Davidson sent in a fix so sensors.pl will work with the newer analog weeder boards.</P>
<P>- Brent DeShazer fixed Timer.pm to handler subroutine actions.</P>
<P>- Craig Schaeffer added a time_add function:  $Save{setback_off} = time_add ``$Save{wakeup_time} - 1:20'';</P>
<P>- Allow for read_table_xxx.pl and user_modules to be in the user_code directory.</P>
<P>- Fixed the SwitchLinc set method.</P>
<P>- Fixed 2.39 bugs which caused the web parm password_allow_clients to be ignored and a web command search to fail.</P>
<P>- Added a 'password set/not set' voice message in the web server, for notification of web password attempts.</P>
<P>- Updated the rpm file to not require the viavoice libraries and to not require perl in /usr/bin/perl</P>
<P>
<H2><A NAME="version 2.39 posted on 12/21/00">Version 2.39 posted on 12/21/00</A></H2>
<P>Version 2.39 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Danal Estes updated the DCS* alarm system code to be object/state aware.</P>
<P>- Stuart Grimshaw added mh/lib/SMS_Item.pm, for sending SMS messages to mobile phones.</P>
<P>- David Norwood added mh/lib/Weather_wx200d.pm.  This talks to the
Unix wx200d daemon: <A HREF="https://sourceforge.net/projects/wx200d">https://sourceforge.net/projects/wx200d</A></P>
<P>- David Norwood also added mh/code/public/weather_upload.pl.
This uploads your weather station data to the wunderground personal weather project.</P>
<P>- Clive Freedman sent in changes to get_tv_info:
revised to include processing of key-lists in files,
case-sensitive searches for words starting with upper-case,
searches for whole words only, plus plurals,
option for 5 minute search increments,
shows in progress, .html output.
He has an example of his use in mh/code/public/tv_info_clive.pl.</P>
<P>- Added mh/bruce/news_email_breaking.pl to announce breaking email
stories from a news email subscription.
Be the first on your block to know the aliens have landed :)
This subscription sends out about 0-&gt;3 items a day: <A HREF="http://www.cnn.com/EMAIL">http://www.cnn.com/EMAIL</A> .
Anyone know of other news services that send just the really big news??</P>
<P>- Modified internet_mail.pl
to not delete the get_email.scan file until one full pass after it
was created, so other code can monitor incoming mail, like the above news_email_breaking.pl</P>
<P>- Added the new_second, new_minute, and new_hour functions.
These functions are like the $New_Second/Minute/Hour variables, 
except they can return true only on the nth second/minute/hour.  
So instead of this:</P>
<PRE>
  if ($New_Minute and !($Minute % 10))) { }</PRE>
<P>we can say</P>
<PRE>
  if (new_minute 10) { }</PRE>
<P>- Added a few example mh/sounds/sound_nature/*.wav files.  
These make for fun, less obtrusive but still distinguishable event sounds.
Our house now sounds like a bird sanctuary  :)
Found this great site for sound searches:  <A HREF="http://www.findsounds.com">http://www.findsounds.com</A></P>
<P>- Added mh function add_sound and mh/test/event_sounds.pl.
This allows us to create and review event sounds.  For example:</P>
<PRE>
  add_sound movement1 =&gt; 'sound_nature/bird1.wav', volume =&gt; 20;
  play 'movement1' if state_now $movement_sensor;</PRE>
<P>Try 'list event sounds' to review the sound assigments.</P>
<P>- Enabled keyboard monitoring in Unix (was only windows).
Requires Term::ReadKey which I think is usually installed by default.
Made $Keyboard available in user code (echos characters typed on the keyboard, and F1 -&gt; F12).
Moved the F1-&gt;F5 processing (e.g. F1 code reload) to mh/code/common/mh_control.pl</P>
<P>- Moved/split mh/mh.print.log to code_dir/mh_temp.speak/print.log.
Read the previous logs at startup, so up to max_log_entries previous log entries are displayed.
If you have your own tk_frames.pl, add the 'seed' records from mh/code/common/tk_frames.pl.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Brent DeShazer fixed the new voice_cmd_prefix for ViaVoice.</P>
<P>- Bill Sobel added 'double/triple on/off' states for X10_Item.</P>
<P>- Bill Sobel found a Weather_Item.pm bug with undefined states.</P>
<P>- Dan Ratzlaff found 2 typos and added the dim states in X10_Switchlinc. 
He also added X10SL to read_table_A.pl.</P>
<P>- David Lounsberry updated vv_tts.pl from ViaVoiceTTS to TTSClass.
He also sent in a fix for processing web forms with Mozilla.</P>
<P>- Craig Schaeffer sent in mh/code/examples/weeder_io.pl as an example of using the current weeder kits.</P>
<P>- Added mh/lib/example_interface.pm as an example of how to write a code for a new interface.</P>
<P>- Added mh/bruce/school_closing.pl for those of you in snowy climates that have 
local web pages with school closing status.</P>
<P>- Added an example mh.private.ini with some common parms.</P>
<P>- Added a check for no_log, in mh/code/common/mh_control.pl &amp;serial_match_log.
If you are getting X10 errata in your print_log file that you don't want
(e.g. lots of movement sensor data), rather than turning X10 errata off,
you can turn it off for specific units with this:</P>
<PRE>
  $movement_sensor-&gt;{no_log} = 1;</PRE>
<P>- Allow for Format= table format specs as a comment.  Also fixed
a problem with loosing Groups after a code reload.</P>
<P>- Allow for pod comments in user code.  Instead of putting # in front of a bunch of lines 
(e.g. commented out section or example documentation), you can use =begin =cut to mark
the start/stop of a comment section.  See mh/bruce/tellme_menu.pl for an example.</P>
<P>- Use a timer, rather than a sleep, when &amp;play is waiting to play a sound, 
so mh does not pause when playing back-to-back sound files.</P>
<P>- Fixed a 2.36 bug with expired timers in timers.pl</P>
<P>- Move set_authority calls out of the loop code.</P>
<P>- Minor changes to tellme_menu code, including detecting and using local host namename and port
when debuging with a local browser.  I have not gotten a PIN login and cookies to work there yet :(</P>
<P>- If get_email_rule returns a string with 'no store', get_email will not store it in html data/email index.</P>
<P>- Added mh/docs/authors.html.  This list is auto-parsed from mh/docs/updates.pod.
That filter may have skipped a few names here or there, so if your name is missing
and you want to be famous, let me know and I'll update that code.</P>
<P>- Kieran Ames continues to update the mh users map.  We are up to 68 locations.
We also added a table to list the cities/countries.</P>
<P>
<H2><A NAME="version 2.36 posted on 12/03/00">Version 2.36 posted on 12/03/00</A></H2>
<P>Version 2.36 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download.html">http://misterhouse.sourceforge.net/download.html</A>
  <A HREF="http://misterhouse.net/download.html">http://misterhouse.net/download.html</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added Voice XML (vxml) functions and created mh/code/bruce/tellme_menu.pl.
This code enables remote VR control via 1-800-555-8355 from <A HREF="http://tellme.com">http://tellme.com</A> .
For my house, speak 'Extentions', then dial 46630 (Home0).  Instructions
on how to setup your own extention is at the top of tellmen_menu.pl.</P>
<P>- Changed web search results to use a Category Command type table 
(rather than a simple list) and added Tk widgets to the search.
Added web option /list?authority=anyone (now used in open access list on the default web page).</P>
<P>- Added an index to the data/email files. 
Clive Freedman sent in misc. get_email patchs, including
one to add data/email/summary.html with mailbox size data for all accounts.</P>
<P>- Added mh/code/public/iButton_ws_client.pl.  This gets weather data from
the Henriksen Weather Station tcp server for the iButton one-wire weather station.</P>
<P>- Added mh/code/public/weather_com.pl to get weather data from weather.com.  
Unlike the noaa data used by get_weather, weather.com supports non-US cities.</P>
<P>- Added mh/lib/Weather_Item, derived from Bill Sobel's earlier Weather.pm module.
See mh/docs/mh.html for more info.</P>
<P>- Kieran Ames built a map with the responses from his 
``Where in the world are MisterHouse users'' query:  <A HREF="http://misterhouse.net/usage.html">http://misterhouse.net/usage.html</A> .
If you missed out on the survey, you can send in your location (anonymously if you want)
via a form on that web page.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Timothy Spaulding found a 2.34 problem with RCS thermostat states.</P>
<P>- David Norwood found a problem running web commands with embeded + characters.</P>
<P>- Ernie Oporto found a problem with get_tv_grid data of shows that cross grid boundaries.</P>
<P>- Sanjay Seth suggested adding the Windows setupsup methods
WaitForAnyWindow, SetFocus, and EnumChildWindows.  See docs/mh.* for more info.</P>
<P>- Brent DeShazer added Subject to net_jabber_send and found that net_jabber_server and _resource
were not being used.</P>
<P>- Brent also found a problem running more than one mhsend command.</P>
<P>- Fixed sluggish tk windows with running in accelerated time test mode (e.g. -time_stop ``11:59 pm'').
Als fixed -time_start (was ignored).</P>
<P>- Re-enabled -w 1 (was supposed to be the same as -diagnostics 1, but was being ignored).</P>
<P>- Allow for mh.ini abc_module=abc.pm parms.  See mh/lib/Weather_wx200.pm for an example.</P>
<P>- Added 'update location' option on aprs tracking web pages.</P>
<P>- Added /mh/code/examples/play_midi_windows.pl as an example of playing midi files.</P>
<P>- Allow web requested display data to be displayed to a local tk window,
only if the display $time parameter is specified.</P>
<P>- Added mh.ini net_mail_scan_size (defaults to 2000).  This is the number of records
that &amp;net_mail_summary uses (called by mh/bin/get_email).</P>
<P>- Allowed a 'round to the nearest $digits' mode to the round function (see mh.pod for example).</P>
<P>- Added mh.ini voice_cmd_prefix option.  This will be added to all voice commands.</P>
<P>- Avoid errors wint Win32::Sound::Volume with older win32 Perls</P>
<P>
<H2><A NAME="version 2.34 posted on 11/12/00">Version 2.34 posted on 11/12/00</A></H2>
<P>Version 2.34 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download">http://misterhouse.sourceforge.net/download</A>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- David Lounsberry sent in mh/bin/ical_load and mh/code/public/ical.pl.
This code allows unix users to create mh events based on ical calander program entries,
like mh/bruce/outlook.pl and mh/bin/outlook_read does on Windows.</P>
<P>- David also sent in an example of how to log and plot data to/from a Round Robin Database (rrd),
using rrdtool, which is available on both unix and Windows.  
David has plots from is iButton temperature logs at <A HREF="http://dittos.yi.org/automation/plots/temps.html">http://dittos.yi.org/automation/plots/temps.html</A> .
See mh/code/public/README.txt rrd* entries for more info.</P>
<P>- Kieran Ames came up with the idea of a programable timer.  To enable, delete the old timers_*.pl members
and copy in the new mh/code/test/timers.pl member.  This will enable tk and web menu fields that you
can enter timer time and text into.</P>
<P>- Douglas Nakakihara suggested a get_email enhancement that allows for browsing mh monitored email from
a web browser.  One weeks worth of email is stored (by day, as html files)
for each account in a new data/email dir.  In addition an html.latest member shows
just the email that has not been received yet.
Added a 'Email Received' link to the default we menu.</P>
<P>- Added a mh.ini password_protect_dir parm, so that specified web directories
can only be viewed by browsers logged in with the correct password.  
By default the /data and /email directories are protected.</P>
<P>- David Norwood sent in an update to support long X10 strings that 
include bright/dim data (e.g. XA1A-100A+40).</P>
<P>- Bill Sobel added X10_Switchlinc as a child class of X10_Item.  
We also added support for recognizing long incoming X10 strings, like XK1KJKJKJ Switchlinc 3 push strings by
allowing for &gt; 2 passes in X10 string merging.</P>
<P>- A number of changes to web server to support various browsers
(e.g. object and vars without $, list:last_response?category).
A mh/web/wap directory has some wap phone examples.</P>
<P>- Allow for multiple iButton adaptors on multiple COM ports.  If $port is not specified on 
the methods/functions calls (e.g. new, monitor), it will default to the port used on the 
first iButton::connect call.</P>
<P>- Added a bunch of file attachement mime options to &amp;net_mail_send.  
See internet_mail.pl and/or mh/docs/mh.html for examples.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- David Lounsberry sent in an iButton Device.pm update to loop on CRC errors.
Craig Schaeffer sent in a Connection.pm timing adjustment.</P>
<P>- Wally Kissel discovered File_Item read_random was not random on Windows.</P>
<P>- Clive Freedman sent in a patch to bypass sendkeys_find_window for perl 5.6+</P>
<P>- Brian Rigsby sent in mh/code/public/news_yahoo.pl.</P>
<P>- Ray Dzek sent in some Caller_ID.pm updates for is number-only callerid modem.</P>
<P>- Benny Miller discovered mh.exe did not run get_tv_grid due to a Win32::CopyFile problem.</P>
<P>- Timothy Spaulding discovered a problem upper case ON/OFF not working in X10 Voice_Cmd strings.</P>
<P>- Dropped $module from new X10_Item (not needed anymore).
So, for example, you no longer need to specify a LM14 module when defining an X10_Item.</P>
<P>- Added mh.ini no_log=save_state option, to turn off the 'Saving object states' message.</P>
<P>- Added mh.ini get_url parm, to choose between simple or useragent LPW modules.  Changed
the default from useragent to simple, since more people were having problems with useragent.</P>
<P>- Added a Testimonials section to the misterhouse.net web page.</P>
<P>- Added 'list barcoded inventory' command to barcode_inventory.pl</P>
<P>- Allow for local module.pm files in the user code_dir directory.</P>
<P>- Allow for Group_Item X10_Item sets with ncpuxa and HomeBase (like CM11).</P>
<P>- Change Web pull downs to default to the first item, rather than blank</P>
<P>- The web SET and SET_VAR directives now do the same thing (can be used for mh variables or objects).</P>
<P>- A minor change to get_tv_grid (tv table format got messed up by a javascript).</P>
<P>- Added a 'top' option to file_cat, for concatenating a file to the top (rather than
bottom) of another file.</P>
<P>- Added a $Dark flag (true before and after twighlight)</P>
<P>- Changed sort in get_tv_info from date/channel/time to date/time/channel</P>
<P>- Set $Info{OS_name} to Win98 (rather than Win95) on Win98 systems.</P>
<P>- Fixed the mh/code/common/mh_control.pl 'reboot the computer' option.</P>
<P>- Updated install.html/install.txt (based off of a new install.pod file).</P>
<P>
<H2><A NAME="version 2.32 posted on 10/22/00">Version 2.32 posted on 10/22/00</A></H2>
<P>Version 2.32 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net/download">http://misterhouse.sourceforge.net/download</A>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added mh.ini code_dir_common, like code_dir, but for common code files.  
Moved the tk*, mh_control, mhsend_server, and benchmark .pl files into there.
This should ease the mh upgrade process.  
To pick up the default mh/code/common versions of these files, 
delete these files from your code_dir.</P>
<P>- Added mh/code/common/mh_sound.pl .  This currently does 3 things:</P>
<P>1:  I figured out a way to work around the bug in Win32::Sound::Volume, so we can 
now control volume each time we call speak and play (any suggestions on how to patch 
this for unix?).
Defaults to a new mh.ini sound_volume parm.  Set to blank to disable auto-volume adjustment.
Use either of these formats to override the default volume (range 0-&gt;100):</P>
<PRE>
  speak 'volume=100 Hello from Mr. Bruce';
  speak volume =&gt; 5, text =&gt; 'Hello from Mr. Bruce';</PRE>
<P>2: mh_sound also sets a mh_speakers object, which can be used to turn relays on/off
before and after TTS and wave file sounds for room speaker control (see mh/code/bruce/pa_control.pl).</P>
<P>3: Plays the mh.ini sound_pre wav file before all sounds.
Useful if you want to add delay and/or an activation noise for things
like VOX (Voice Activated) Radios .</P>
<P>- Figured out a way to monitor memory usage from NT/2k, using Win32::PerfLib.  
Added mh/code/common/monitor_memory.pl as an aid to finding code members that leak memory
(works on unix and NT/2k only).</P>
<P>- Danal Estes made various updates to Bill's DCS_Alarm code, including support for multiple serial ports.  
See mh/lib/DSC_Alarm.pm and mh.pod/txt/html for more info.</P>
<P>- Bill Sobel came up with the idea of using a http redirect command to allow mh to return the browser back 
to the calling web page, or some other arbitrary web page.  Use either 'Referer' or 'http://your_url' 
as the response string.  For example:</P>
<PRE>
 &lt;a HREF=&quot;<A HREF="http://misterhouse.net:8080/SET:Referer">http://misterhouse.net:8080/SET:Referer</A>?$camera_light&amp;on&quot;&gt;Light on&lt;/a&gt;</PRE>
<PRE>
 &lt;a HREF=&quot;<A HREF="http://misterhouse.net:8080/SET:http://misterhouse.net">http://misterhouse.net:8080/SET:http://misterhouse.net</A>?$camera_light&amp;off&quot;&gt;Light off&lt;/a&gt;</PRE>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Fixed the MsAgent code added last time so it works with all VR commands.</P>
<P>- Fixed a memory leak in barcode_scan.pl.</P>
<P>- Fixed a bug in mh_control.pl that disabled web based code reloads after the first reload.</P>
<P>- Fixed mh/bin/trivia to reset count correctly (messed up after 250 questions).</P>
<P>- Fenghua Zong found a problem with Timer actions being corrupted by a object state save.</P>
<P>- Wally Kissel found a bug that disabled MS VR after a code reload.</P>
<P>- Chris Witte sent in a patch to fix dissapearing Group problem when reloading changes in format=A tables.</P>
<P>- Stephen Merrony found a problem with SunTime.pm calculation for -time_zone 0.</P>
<P>- Danal Estes noted that Serial_Items without defined state strings returned 'default_state'.  
We switched it back to return the ID string like it used to.</P>
<P>- Ingo Dean discovered that incoming DIM/BRIGHT commands crashed mh when using a non-CM11 interface
(e.g. HomeVision).</P>
<P>- David Norwood updated the ncpuxa code (Applied Digital interfaces) to 
allow for preset dim working on LM14A and Leviton units.</P>
<P>- Bill Sobel ran into a problem where mh went into an X10 loop,
with a house code and a device code each setting each other off.
To avoid this, mh now checks and avoids sending out the same X10 code on consecutive passes.</P>
<P>- Bill sent in a http_server update to disable caching.</P>
<P>- Improved iButton reliabilty on Windows.  I can now used it again from NT/2k.</P>
<P>- Modified read_file to chomp newlines, when used in an array context.</P>
<P>- Added mh/lib/site/HTML/TableExtract.pm and mh/lib/site/Win32API/Resources.pm and Resources.html</P>
<P>- Added +-100 to X10_Item (max/min use to be +-95), so we can do full bright/dims.</P>
<P>- Added the mh.ini no_log parm.  Use no_log=pause to turn of the 'mh paused' message.</P>
<P>- Added FAQ entry 1.17: How can I use Family Radios with MisterHouse?' 
and pointed it to Danal Estes's Family Radio Service FAQ mh/docs/faq_frs.html.</P>
<P>
<H2><A NAME="version 2.29 posted on 10/01/00">Version 2.29 posted on 10/01/00</A></H2>
<P>Version 2.29 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Re-organized the <A HREF="http://misterhouse.net">http://misterhouse.net</A> homepage.  This is now fully mirrored in mh/docs and
at <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></P>
<P>- mh now goes into a 'catch up' mode after it detected that it paused for more than a second.  
This mode guarantees that we won't miss any time based events.  
When this occurs, you will see a 'mh paused for ## seconds' messaging in the log.  
Thanks to Craig Schaeffer for this suggestion.</P>
<P>- Changed the Web Items menus to list all legal item states, rather than just an ON/OFF toggle.
A new mh.ini x10_menu_states parm controls which X10 states are displayed on the tk and web menus.</P>
<P>- Added set_states, add_states, and get_states as a way to specify legal states to 
Generic_Items.  See mh/bruce/tv.pl for an example.</P>
<P>- Added a set_expect method to Socket_Item.  This allows us to easily walk through
telnet menus by specifing pairs of prompt/response strings.  Here is an example
from the 'reboot the router' command at the end of mh/code/bruce/monitor_router.pl</P>
<PRE>
  set_expect $router_client (Password =&gt; $config_parms{router_password},
                             Number =&gt; 24, Number =&gt; 4, Number =&gt; 11);</PRE>
<P>- David Norwood added monitoring and IR support to the ncpuxa code for Applied Digital interfaces.
See mh/code/examples/ncpuxa_example.pl for an example</P>
<P>- Bill Sobel sent in updates for Compool.pm, Stargate485.pm, Xantech.pm, and read_table_A.pl.
He also added a new Mp3Player.pm object.  See mh/code/public/AudioControl.pl for an example.</P>
<P>- Jeffrey Ferris sent patches to enable MsAgent characters.
MsAgent allows remote IE web browsers to do TTS and VR on the remote box.
Note, you can do this even if you are running mh on a linux box as long as your remote box is running IE.
To enable, add the new mh.ini html_msagent_script* parms that
points to a mh/web file with the agent code (currently only Jeff's miniJeff agent is available).
Then click on the MSAgent checkbox at the top of the Web menu to turn him on or off.
IE will do each command only once, unless you change this setting:
Tools, Internet Options, General, Settings button on Temporary Internet
Files, under ``Check for new versions of stored pages'' select the option ``Every visit to the page.''</P>
<P>- Added mh.ini password_menu parm.  It now defaults to html, which gives 
an html password form that is compatible with web browsers that don't support 
popup password menus. 
The crypted password is stored in a cookie, so if you don't like 
cookies, set password_menu=browser to get the old menu (browser popup).</P>
<P>- Added the restore_data method to Generic_Item.  This calls the restore_string method we added last time
so we can easily define object data that we want saved across mh reloads/restarts.
See mh/code/bruce/weather_log.pl for an example.</P>
<P>- Added set_authority and get_authority to Generic_Item.
This allows us to bypass password protection for specified commands,
like the mh.ini password_allow_file parm did, except with set_authority 
we can specify it in user code.  Examples in mh/code/test/time_info.pl</P>
<P>- Added the mh/code/test/barcode* members.  These will process data from the Cue Kat keyboard simulator
barcode scanner, which you can pick up for free at Radio Shack.  The manufacture of the Cue Kat
prefers that you use their software (thats why they give it away), and if you want to look up data
on the web for an item, their software is probably best, as they have a large databse of UPC codes.
If, however, you want to use the scanner
for some sort of home inventory purpose, their software does not do that.  The problem is that if 
you use their software, you must agree to a Licence that says you will only use the scanner with their
software.  Hopefully they will not notice or care that small group of us HA hobbiest are using it
without their software (other people who have written similar code have gotten cease-and-desist letters).</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Brian Rudy sent in mh/public/aws_weather.pl,weather_aws.pl, and weather_monitor_aws.pl
for getting weather data from aws web sites.</P>
<P>- Mark Lamourine sent in a patch for mh/bin/configure for sparc boxes.</P>
<P>- Charles D. sent in a fix for Caller_ID.pm for Canadian caller ID format.</P>
<P>- Brian Rudy and Bill Sobel sent in mh/code/public/sprinkler_*.pl</P>
<P>- Updated the internet_data.pl 'Top 10 list' url.</P>
<P>- Fixed a bug in Socket_Item raw.</P>
<P>- Kip Gebhardt noticed extra 'unmatched incoming serial' data errata, on matched X10 data.</P>
<P>- Bill Sobel added $Time_Sunrise_Twilight and $Time_Sunset_Twilight, with a new mh.ini
twilight parm to pick what kind of twilight you want.</P>
<P>- Bill also noticed that sending out X10 All On/off house commands did not
set the states of individual items within that house code.  Another fix
was to make sure that items with duplicate codes have their states mirrored.</P>
<P>- Modified X10_Item to accept any level from 0%-&gt;100%, in 1% increments, 
instead of 5% increments.  These preset dims can only be done with a CM11-&gt;LM14.</P>
<P>- Fixed Preset Dims (xx% or &amp;Pxx) so it will work on all Device codes.</P>
<P>- Allow for passing parms with code hooks.</P>
<P>
<H2><A NAME="version 2.28 posted on 09/09/00">Version 2.28 posted on 09/09/00</A></H2>
<P>Version 2.28 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added hidden method to most objects.  If you set to 1 (e.g. $item1-&gt;<CODE>hidden(1)</CODE> ), then
the object will not show up on Tk or web menus.</P>
<P>- David Norwood added support for Applied Digital CPU-XA/Ocelot interfaces via 
the cpuxad daemon server from Mark Day's xalib package (unix only).
xalib is available from David at <A HREF="mailto:judapeno@gte.net">judapeno@gte.net</A> .
Enable with the new ncpuxa_port mh.ini parm.</P>
<P>- Brad Reed has coded a ViaVoiceTTS.pm module that calls the IBM's ViaVoice TTS engine directly from perl.  
David Lounsberry worked with Brad to add hooks into mh using mh/bin/vv_tts.pl.
Since this is a more direct/flexible interface than what we had with David's vvo_speak server,
David decided to take out mh support for vvo_speak.
To install Brad's module, follow his instructions at <A HREF="http://sammy.reednet.org/~breed/ViaVoiceTTS">http://sammy.reednet.org/~breed/ViaVoiceTTS</A>
then set the mh.ini voice_text parm to vv_tts</P>
<P>- Added Serial_match, Play_pre, Play_post, Speak_pre, and Speak_post code hooks, like the Mainloop hooks 
we added a few months ago.  These give us more flexibility than the &amp;serial_stub and &amp;pa_stub subroutines
that were in mh, so those have been removed.  If you were using one of those stub subroutines, 
add these lines to your code (see mh/code/bruce/pa_control.pl for an example):</P>
<PRE>
  &amp;Serial_match_add_hook(\&amp;serial_stub) if $Reload;
  &amp;Speak_pre_add_hook(\&amp;pa_stub)        if $Reload;
  &amp;Play_pre_add_hook (\&amp;pa_stub)        if $Reload;</PRE>
<P>- Added &amp;net_jabber_send, like the &amp;net_im_send function we have for sending messages to AIM clients.
Jabber is a new, open, XML based protocol for instant messaging.  You can get free IDs and client for various
platforms at <A HREF="http://jabbercentral.com">http://jabbercentral.com</A> or <A HREF="http://www.jabber.com">http://www.jabber.com</A> .  We can also code mh events to respond
to incoming Jabber messages.  Currently, it will simply pop up a tk display window.</P>
<P>- Allow Process_Item to run multiple commands in series.  This way we can build simple batch/shell type 
scripts within mh, and run them as a detached, monitored process.  
See mh/code/examples/test_process.pl for an example.</P>
<P>- Allow Process_Item to run internal mh subroutines.  If the command passed to Process_Item starts with
a &amp; (e.g. &amp;main::net_ftp), then the command is run with eval, rather than an external system command.
This allows us to call long running internal mh functions
with a Process_Item fork, so we can avoid mh pauses.  This currently only works on unix systems.
In theory it will also work with Win32 perl 5.6+, but on my box, perl abended when I tried it :(</P>
<P>- Added mh/bin/net_ftp, with the same options as the mh &amp;net_ftp function.  This
allows us the option of doing ftp commands with separate processes, so mh does not pause.
See mh/code/examples/test_ftp.pl and/or mh/docs/mh.html for an example.</P>
<P>- Bill Sobel had the great idea of moving the code that saves states from mh into the various object models,
so now we can customize the various objects to save whatever data should be persistent between
mh restart/reloads, using a &amp;restore_string object method.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Cullen Simpson found a 2.27 problem with X10 bright/dim decoding.</P>
<P>- Bill Sobel found a problem with decoding incoming PRESET_DIM commands.</P>
<P>- Ron Wright found yet another mis-decoding of bright/dim commands that would sometimes trigger the wrong events.</P>
<P>- Justin Matlock inspired the addition of &amp;serial_match_log to mh_control.pl.
This will do a &amp;print_log the object names that match incoming serial (e.g. X10) data.</P>
<P>- thegreen <A HREF="mailto:[thegreen@mediaone.net]">[thegreen@mediaone.net]</A> mail_send...</P>
<P>- Switched to the Cpan Astro/SunTime.pm module, to avoid the problems some people were having calling sun_time.</P>
<P>- Fixed a problem with ViaVoice recognition after a code reload.</P>
<P>- Add mh.ini parm time_format_log, so you can choose the time_date format for the speak and print logs.
Any &amp;time_date_stamp function format is valid.  Set to 16 to get date hh:mm:ss am/pm (e.g. 04/14/97  2:28:00 PM).
(see mh.html for other format examples).</P>
<P>- Implemented the pause function (F2 from the tk or dos console).</P>
<P>- Added a small delay in &amp;read_counter funcion of ibutton device.pm.</P>
<P>- Used an older compiler so mh.exe works on more boxes.</P>
<P>- Added $Loop_Speed to Tk Cpu Used widget.  Moved memory used (unix only) to $Tk_objects{label_memory_used}.</P>
<P>
<H2><A NAME="version 2.27 posted on 08/18/00">Version 2.27 posted on 08/18/00</A></H2>
<P>Version 2.27 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Mark Lamourine set up a SPECs file so I can create a tar and rpm file from our beloved zip file.
The rpm file installs to the docs to /usr/doc/misterhouse-#.##.  and everything else to /usr/local/mh.</P>
<P>- Created mh/code/bruce/monitor_router.pl.  This monitors incoming and outgoing 
traffic on NetGear RT311 and RT314 routers.  The RT311 is a really nifty 
$130 firewall/router designed to allow multiple home computers to share 
internet cable/dsl access.  The RT314 ($180) is the same, with a built in 4 port hub.
They both can log activity to remote computers via a Syslog connection,
so we can set up monitor_router.pl to monitor a Syslog udp port to 
track internet activity.  This is what I used to do with mh/bin/monitor_weblog
to monitor apache weblogs and monitor_firewall.pl to monitor linux ipchain logs.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Allow Group to inherit Generic_Item methods, like state_now and tie*/untie*.</P>
<P>- Added a get_changed_by method, to detect which object set a tied object.</P>
<P>- Allow for items to have more than one state set per pass.
Each state will be processed, one per subsequent pass.</P>
<P>- Add a weeder_baudrate mh.ini parm</P>
<P>- Added a delay to when sending phrases set to viavoice on startup, so we avoid 'no data' errors with faster computers.</P>
<P>- Added mh/bin/test_x10.pl as a simple test for those X10 interfaces.</P>
<P>- Added mh/code/examples/test_tie.pl as an example of how to tie/untie items/events.</P>
<P>- Added mh/code/examples/test_group.pl as an example of how to use groups.</P>
<P>- William Steiner found a 2.24 bug with sunrise/sunset on Win95/98 boxes.</P>
<P>- Brad Reed fixed a 2.24 problem with the tk $cpu_used display.</P>
<P>- Craig Schaeffer found a 2.24 problem with Serial_Items with undefined states.</P>
<P>- Brian Klier found a problem with multi-event X10 processing.</P>
<P>- Bill Sobel found a problem when running untie* on some, but not all, child objects.</P>
<P>- Monte discovered that direct X10 commands like 'house XA1AJ' didn't work. 
Note you can also enter direct X10 commands directly in the Tk Command/search field.</P>
<P>- CyberLink discovered that mh/code/public/mp3_control_GQmpeg.pl got overwritten in 2.24.</P>
<P>- Improved error processing if voice_cmd=MS and the MS VR engine is not installed.</P>
<P>- Fixed member name parsing, so mh can be in a dir with a . (e.g. misterhouse-2.26).</P>
<P>- Fixed a minor get_tv_grid error with vcr links on shows that cont. between grids.</P>
<P>- Fixed a bug that disabled simultaneous X10 Group action with a CM11.</P>
<P>
<H2><A NAME="version 2.24 posted on 08/06/00">Version 2.24 posted on 08/06/00</A></H2>
<P>Version 2.24 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added a &amp;dir_index html function, so we can now get 
sortable file name type, date, and size listings of selected directories.  
Enable it by creating a index.shtml file that calls &amp;dir_index.
Try <A HREF="http://localhost:8080/graphics">http://localhost:8080/graphics</A> (mh/web/graphics/index.shtml) as an example,
or look for &amp;dir_index in mh.html.</P>
<P>- Enabled showing of gif and jpg files with the display function 
(e.g. display /pictures/pic1.gif).
Unfortunately, it looks like both perl 522 and 616 leak memory with each picture displayed.
If you are using the uncompiled version of
mh and want to display jpg files, you will need to run:</P>
<PRE>
   windows: ppm install Tk-JPEG 
   unix:    perl -MCPAN -e 'install Tk::JPEG'</PRE>
<P>- Made many small changes to allow us to the option of running with the 
perl Diagnostics module (enables the 'perl -w' option).
This enables a ton of warning messages that often point out potential coding errors.
To enable, set the mh.ini parm diagnostics (or w) to 1, or just run: mh -w 1
This takes about 1 meg more of memory and causes mh to run about 10% slower, but the messages it displays
often point to valid problems.</P>
<P>- Improved processing of errors that do not show up on reload (i.e. only triggered 
by an event). The first time this happens, a console/tk message
will be displayed, and a message spoken.  Since these errors might happen on sequential passes of mh, subsequent errors 
are only listed in the console window.  If more than 10 occur, another window is displayed,
and the code member there error was in is disabled.</P>
<P>- Improved messages when you load user code with perl errors.
It should now point to the correct line number of the error, 
including those nasty 'global symbol' errors.</P>
<P>The only exception I have seen is if you have too few/many {} around code.
In these cases, if you can not find the file with the error, 
you can try a new option: mh -error_by_file 1 .
This will try loading one file at a time until the error is found, but
it runs pretty slow and may not work with members that have # noloop directives.</P>
<P>- New untie_items and untie_event methods.
All the tie/untie methods now allow for on-the-fly calls, 
instead of being set just on code reload.  If you do use these conditionally,
make sure you also call the methods on $Reload, as the tie states
are not saved between reloads.</P>
<P>- Reworked how mh processes the merging/breaking of X10 strings to provide consistent 
monitoring of longer X10 strings that might be broken up by the receiver (e.g. DSC Alarm panel).</P>
<P>- Created mh/bin/get_ceiva and mh/code/bruce/ceiva.pl.  
This code will download and display new pictures that are deposited in 
electronic picture frame folders at <A HREF="http://www.ceiva.com">http://www.ceiva.com</A> .  
As various relatives deposit pictures there for my Dad's picture frame,
we get the new pictures also!  get_ceiva is an example of how
perl can log onto a site that uses cookies for user/password security.</P>
<P>- Brian Paulsen wrote a Slinke.pm module to send/receive IR data from
the Nirva Slink-e interface.   His examples are in mh/code/public/slinke*,
but it has not been integrated into mh yet.</P>
<P>- Bill Sobel made some changes/additions  to mh/lib members 
Compool.pl, DSC_Alarm.pm, Stargate485.pm, Xantech.pm, and read_table_A.pl.
The Xantech code is the initial pass at controlling the Xantech preamp.
The Stargate485 is his first pass at interfacing with the stargate
(and the stargatelcd keypads) via the 485 interface.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Ron Wright spotted an recent error with the VCR start/stop times in get_tv_grid html.</P>
<P>- Brian Paulsen's sent in a fix to avoid repeating voice commands when using Viavoice.</P>
<P>- Bradford Reed helped fix an error with group commands on CM17 controlled X10 items.</P>
<P>- Bill Sobel sent in a patch that allows for auto-loading of new or user-defined mh/lib modules
(e.g. Compool.pm).  These new object types will also show up in the tk and web menues.</P>
<P>- Fixed the on.gif blinking status icon so it will also blink in Netscape.</P>
<P>- Fixed the html_info= tag in mh.ini (html popups accidently got disabled in 2.22)</P>
<P>- Added mh.ini x10_errata parm, so you can turn up/down the print_log errata on X10 data.</P>
<P>- Allow for muli-line mh.ini parms (see mh/bin/mh.ini favorite_tv_shows for an example)</P>
<P>- Added mh/code/examples/generic_item.pl</P>
<P>- Added a -quiet option to get_email and get_tv_info, so you can avoid mh console clutter.</P>
<P>- Added browser function.  This simply calls the browser defined by mh.ini browser parm on the specified
url or file.</P>
<P>- Moved Tk* widgets from various mh/test/code files into tk_widgets.pl, for easier ordering.</P>
<P>- Dropped the B prefix on incoming bright/dim decoding and added bright/dim states to house X10_Items.
This allows us to monitor bright/dim commands easier.</P>
<P>
<H2><A NAME="version 2.22 posted on 06/24/00">Version 2.22 posted on 06/24/00</A></H2>
<P>Version 2.22 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Updated all items that have states (Voice_Cmd, Serial_Item, X10_Item, iButton, IR_Item) to inherit Generic_Item methods.
This allows for easier maintance of common methods.</P>
<P>- Bill Sobel and I came up with 2 new methods for Generic_Item: tie_items and tie_event.
Per the above change, this is inherited by all state items.
When an item's state changes, so will the state of all items tied to it. For example, if we have this:</P>
<PRE>
  $indoor_fountain   = new X10_Appliance 'C3';
  $v_indoor_fountain = new Voice_Cmd 'Indoor fountain [on,off]';</PRE>
<P>Then instead of this:</P>
<PRE>
  set $indoor_fountain $state if $state = state_now $v_indoor_fountain;</PRE>
<P>We can do this:</P>
<PRE>
  $v_indoor_fountain -&gt; tie_items($indoor_fountain);</PRE>
<P>or use the indirect object style like this:</P>
<PRE>
  tie_items $v_indoor_fountain $indoor_fountain;</PRE>
<P>- Another  Bill Sobel idea was to allow for table based entries for codeing mh objects and events.
With table data, we should be able to enable gui or web based front end tools for editing.  
Currently we have defined just one format defined, creativly named A 
(I suggested we call it Bill, but Bill didn't want the fame), but other formats (e.g. xml) should
be easy to implement.</P>
<P>To use, create one or more *.mht (mh table) files in your code directory, specifying the table format with Format=A
at the top of the table.  Then mh will process (on starup and reload) each record with mh/lib/read_table_A.pl, to create
*.mhp (mh processed) files, which are then processed with all your other, normal mh code.</P>
<P>Examples are in mh/code/bruce/*.mht and mh/code/test/*.mht. 
If you want to create another table format, all you need to do is create a mh/lib/read_table_xyz.pl member, then set Format=xyz.</P>
<P>- Updated tk_radiobutton and tk_entry so they can now use state objects, like Generic_Item.
This allows for easier triggering and auto-saving of Tk entered changes.
Here is an example (from mh/code/examples/tk_examples.pl):</P>
<PRE>
  $mp3_search_text =  new Generic_Item;
  $mp3_search_text -&gt; tie_event('print_log &quot;mp3 search text is now $state&quot;');
  &amp;tk_entry('mp3 Search', $mp3_search_text);</PRE>
<P>- Douglas Nakakihara sent in a pointer mrMP3, a mh compatable Windows mp3 player he wrote. 
The mh code he wrote to control it, along with a download url, is in mh/code/public/mp3_control_mrMP3.pl</P>
<P>- Added an example of how to push data from mh to a java applet 
I got from the Linux Home Automation mailing list (http://linuxha.sourceforge.net)
called tattler, written by John W. Klar.
To test, include mh/code/test/tattler.pl
with your code and point your java enabled browser to <A HREF="http://localhost:8080/tattler">http://localhost:8080/tattler</A></P>
<P>- Bill Sobel added X10_IrrigationController to support the RCI X10 based sprinkler system 
( <A HREF="http://ourworld.compuserve.com/homepages/rciautomation/p6.htm">http://ourworld.compuserve.com/homepages/rciautomation/p6.htm</A> ).</P>
<P>- Added initial (untested) support for sending X10 commands via the Marrick interface.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Bill Sobel has updated mh/lib/compool.pm and added mh/lib/weather.pm</P>
<P>- Dan Wilga sent in various improvements to http_server.pl, including correctly mime-typing external files.</P>
<P>- Brent Gross added a -type option to ftp, so we can upload/download binary files also.</P>
<P>- Monte Freeman cleaned up and reformated mh/bin/mh.ini</P>
<P>- Fixed get_tv_grid to work with a new clicktv format.</P>
<P>- Fixed a bug in sendkeys_find_window that could cause mh to hang if the program was not able to start.</P>
<P>- Changed mh to not create empty _loopcode subroutines.</P>
<P>- Commented out the Cyan console color change, for win32 mh users.  If anyone wants this as an option, let me know.</P>
<P>
<H2><A NAME="version 2.20 posted on 05/27/00">Version 2.20 posted on 05/27/00</A></H2>
<P>Version 2.20 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Danal Estes has added mh/code/public/Danal/ISDN*.pl and Cat_Box.pl.  
The ISDN code monitors incoming and outgoing
calls for ISDN modems, including caller ID processing. 
He also added/mh/bin/set_ip_3com_tzo to get the Internet connection from a 3com ISDN
Lan Modem and sets TZO service appropriately.</P>
<P>- Added server_*_protocol=udp, and server_*_datatype=raw options to socket servers
specified in mh.ini.   datatype=raw, like the serial_*_datatype parm, 
allows for raw/binary or record based data.
Also allow for udp in Socket_Port clients.</P>
<P>- Frank Varnavas and Bill Sobel came up with the option to add user callback functions, so you can have 
user functions called, once per loop, before and/or after all the other user code is run.
For an example, look for &amp;MainLoop_pre_add_hook in mh/docs/mh.html.</P>
<P>- Bill Sobel added mh/code/public/Compool* files, for monitoring and controling ComPool pool/spa equipment.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Added mh.ini parm play_mode, so you can control the default mode for playing wav files (e.g. wait so older
sound cards will only try to play one thing at a time).</P>
<P>- Allowed the mh.ini local_addresses and password_allow_clients parms to be regular expressions.</P>
<P>- Added internet_speak_flag so you can control if all, local, or none speech data will 
be spoken when requested from the web interface.</P>
<P>- Change speak log to include file contents, not just file name.</P>
<P>- Tom Kotowski updated his mh/code/public/news* files.  He also added a Drudge Report file.</P>
<P>- Bill Sobel updated mh/code/public/internet_ip_update.pl to allow for sending email and 
finding NAT/firewall ip addresses.</P>
<P>- Bill Sobel sent in a update to mh/code/public/weather.pl so it can find weather by zipcode.</P>
<P>- Fixed a bug introduced in 2.15 in the code used to read the weeder analog module (code/bruce/sensors.pl).</P>
<P>- Fixed a problem with parsing HTML TABLE data, introduced in 2.13 for those who are on perl 5.6.</P>
<P>- Fixed an error in mh.ini comment.  Now reads ``use positve numbers longitude'', not latitude.</P>
<P>- Fred Richards reports that a Tk ``font doesn't exist at PERL2EXE_STORAGE/Tk/Widget.pm'' error was fixed 
with this version of mh.exe, probably due to Tk being upgraded from version 8.020 to 8.021.</P>
<P>- Changed to a simpler way of reading tcp socket data (thanks go to Danal).</P>
<P>- Renamed server1 to server_telnet in mh.ini and code/test/telnet.pl</P>
<P>- Added FAQ question 6.7 What do I need to use the iButtons?</P>
<P>- Added FAQ question 5.2 What are good editors to use with perl?</P>
<P>- Added these new bugs to the mh.html bug list:</P>
<PRE>
  Windows Activestate perl 5.6 build 613 leaks memory
  when running mh.  On my box about 30 Meg a day.</PRE>
<PRE>
  Some people are getting CRC errors when running iButton
  code under Windows NT.</PRE>
<PRE>
  Adding, deleting, or changing Voice commands does is not
  recognized by the Windows MSVoice application while it
  is running.  You have to exit and restart MSVoice, then
  restart mh to get it to recognize new commands.
  Hopefully we can get this to work with release 5.0
  of the MS Speech SDK.</PRE>
<P>
<H2><A NAME="version 2.15 posted on 05/06/00">Version 2.15 posted on 05/06/00</A></H2>
<P>Version 2.15 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Brian Klier is working on some nifty code to 
interface with a voice modem in mh/code/public/voicemodem.pl.
Currently it works with modems based on the Rockwell chip set.  
The script can pickup your phone after so many rings, play an outgoing
message, and take a message.  There is also code to dial up a number you specify
and play a voice message.</P>
<P>- Ingo Dean and Radi Shourbaji made some X10 updates to HomeVision.pm</P>
<P>- Clay Jackson added iButton support for the 1822 temperature button.</P>
<P>- Kees Cook added the mh.ini prounoucable_list_file option, so you can change
change to phonetic spellings of words, but still keep the correct spelling in your code and logs.
Control this with the new mh/data/pronouncable_words.list file.</P>
<P>- Kees also sent in a patch to make Caller_ID a bit smarter. 
I added a mh.ini caller_id_format parm, so we can adapt to various caller ID formats.  
Also, Caller_ID::make_speakable now returns just the caller name, so you can
create control the phrasing better (see mh/code/bruce/phone_modem.pl for an example).</P>
<P>- Allow for duplicate Serial_Items and X10_Items.  Now all items with the same ID code will get set 
when data is received, rather than just the last defined item.</P>
<P>- Added tk_font and tk_font_fixed mh.ini parms. 
Like most mh.ini parms, you can change them while mh is running
and use the F1-reload button to evaluate the change.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Christopher Witte send in a fix for the 'broken pipe' problem that unix users 
could get when doing multiple quick web browser reloads.</P>
<P>- Chris also updated the CVS repository to be a full copy of mh, so in theory, people can do a full 
install of mh via cvs.</P>
<P>- Ron Klinkien sent in some updates for mh on FreeBSD.</P>
<P>- Kees Cook send in a patch to Text_Cmd.pm to allow Festival to use esdplay, so mh can share the sound card 
with other programs.  The is controled with a new mh.ini festival_init_cmds parm.</P>
<P>- Christopher Kodadek send a fix for a bug introduced in 2.13 where get_mail would announce incoming mail twice.</P>
<P>- Added a '3digit' option to IR_Item to it can be used with devices that require
all 3 digits to be entered for channel numbers.</P>
<P>- Re-fixed a bug in CM11.pm that created ``unrecognized X10 data:'' messages.</P>
<P>- Added Volume Up/Down to mp3_control.pl (latest httpq 1.6 winamp plugin required)</P>
<P>- Added HTML::Parse to get_tv_info, so we can drop HTML tags from TV data.</P>
<P>- Allow for tabs in speakable data.</P>
<P>- Fixed a bug that caused duplicate filename to be listed on the web page popups if code was reloaded with errors.</P>
<P>- Fixed a bug that cause an eval error when listing Global Variables via the web interface.</P>
<P>- Added mh/code/examples/x10_motion_sensor_ben.pl</P>
<P>- Added FAQ question 3.2: How can I set the default volume level for Festival?</P>
<P>- Added FAQ question 1.15 How can I call mh from a non-mh web server like Apache?</P>
<P>
<H2><A NAME="version 2.13 posted on 04/09/00">Version 2.13 posted on 04/09/00</A></H2>
<P>Version 2.13 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added IR_Item to support the new X10 IR transmiter, available for $50 at <A HREF="http://www.x10.com/products/ux17a_bj2.htm">http://www.x10.com/products/ux17a_bj2.htm</A> .
Documentation is in mh.pod and example is in mh/code/test/tv.pl. 
Also updated tv_grid.pl to use IR_Item instead of the older, one-for-all mh/bin/ir_cmd</P>
<P>- Added  Kevin Olande's mh/code/public/x10_ma26.pl code for monitoring the X10 wireless mouse receiver.
This also monitors other X10 rf traffic, so may prove to be a good way to improve latency on things 
like X10 motion sensors.</P>
<P>- Craig Schaeffer added a iButton read_switch method, for the DS2407 switch.  He also has started on
code for monitoring the Dallas 1 wire weather station:  mh/code/public/iButton_ws.pl</P>
<P>- Added volume, rate, and voice options to the speak function.
An example is in mh/code/test/test_voice.pl.
Unfortunatly, these don't work yet.  I don't think the MS TTS engine can be controled (with perl via OLE anyway),
and I couldn't get my Festival speech engine to use the SABLE parms that Neil posted.  
Maybe a newer version of Festival will work ... if someone gets this to work with Festival, let me know.</P>
<P><STRONG>Examples, Bug Fixes, and Minor Changes:</STRONG></P>
<P>- Documented iButton_Item in mh/docs/mh.html</P>
<P>- Updated mh to be compatable with the new 5.6 perl release.  Note, the install.html instructions now specify
a required step for perl 5.6+ Win32 users:  ppm install Win32::API.  Without this you will get ``illegal operionation'' popup.</P>
<P>- Updated code to be compatable with the new Tk 8.020 release (was getting Can't locate delgate.al errors).</P>
<P>- Fixed a Windows bug that cause mh to hang while wav files were played.
They are now played asynchronously.</P>
<P>- Added  Kevin Olande's fix to CM11.pm to fix the problem he was having with not receiving all incoming X10 signals.</P>
<P>- Fixed a bug introduced in 2.11 that disabled dialup on Windows.</P>
<P>- Disabled the mh/web/overlib.js tracking.</P>
<P>- Fixed a bug where mh would respond with ``I heard'' when using the ms speech recognition engine.</P>
<P>- Added  David Lounsberry's linux mp3 control code as code to mh/code/public/mp3_control_GQmpeg.pl.</P>
<P>- Added  Brian Klier's example of a custom status pannel page to mh/code/public/statuspannel.pl and .shtml.  
Also added a screenshot of what Brian's mh page looks like at <A HREF="http://misterhouse.net/pictures/brian.gif">http://misterhouse.net/pictures/brian.gif</A> .
If anyone else wants to send in screenshots of their mh web
interfaces, send them my way and I'll post them.</P>
<P>- Refreshed  Tom Kotowski's mh/code/public/news_*.pl members</P>
<P>- Added an optional net_mail_account_server_send parm, to allow for accounts that have different
send and receive (stmp/pop) mail servers.</P>
<P>- Changed tv_grid.pl to use the optional mh.ini html_alias_tv parm, so you can put 
your tv pages in a directory other than the main mh/web directory, enabling easier upgrades.</P>
<P>
<H2><A NAME="version 2.11 posted on 03/09/00">Version 2.11 posted on 03/09/00</A></H2>
<P>Version 2.11 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P><STRONG>New Features:</STRONG></P>
<P>- Added  Brian Warner's iButton perl modules.  I have tested it with a
Id button (DS1990), temp sensors (DS1820) and the 2 channel digital IO (DS2406, via 
the sixpoint.com TR1 relay card).  Examples on talking to these devices are in 
mh/code/test/ibutton.pl.   A couple of urls with prices are listed 
in the hardware section of mh/docs/mh.html.
I converted the iButton modules to use Bill's SerialPort module, so it now works
on Windows as well as Linux!</P>
<P>- Split mh/code/bruce/phone.pl into phone.pl, phone_weeder.pl, phone_modem.pl, and phone_logs.pl.
This should allow caller ID modem users another option.  phone.pl differs from the 
mh/public/calllog.pl code that Brian and Ernie Oporto put together.  The phone_modem.pl code is a bit 
simpler (e.g. no auto-hangup), but it logs data for use with display_callers.</P>
<P>- Reworked the default web page again (now mh/web/mh4).  This now uses the javascript overlib.js
library from Erik Bosrup.  This allows us to use a new Voice_Cmd 
set_info method to display additional information in a pop-up box
that will show up when your mouse hovers over the command text.  
Unfortunately this does not work with Netscape because onMouseOver only
works with href tags, so I added a special option for Netscape users that adds small info and log links.
This option can be turned off with a new new mh.ini parm, along with several other
other new html related parms.  For example, you can now control
if and when a dropdown select list gets used for Voice_Cmd states.
As with many mh.ini parms, you can use the Reload function to quickly test/play 
with these options, without restarting mh.</P>
<P>- Added support for winamp plugin httpq to mp3_control.pl and mp3_playlist.pl.
This lets mh control mp3s on any computer in your network.
A new mh.ini parm mp3_program_control lets you choose between this and the windows only wactl program.
Also added code from Nicholas Brink for a 'Random Song' option.</P>
<P>- Added code to monitor_shoutcast.pl so it can re-connect the player to the server if disconnected or stopped.
My shoutcast server should be up most of the time now, if any of you want to stop by and say hi:
<A HREF="http://misterhouse.net:8080/speak/">http://misterhouse.net:8080/speak/</A></P>
<P>- Added Global and Save variables to the web widget menu.</P>
<P>- Added widgets and vars as mh.ini password_protect options.
When used (the default), computers other than those listed in password_allow_clients,
will not be able to view that data.</P>
<P><STRONG>Bug Fixes and Minor Changes:</STRONG></P>
<P>- Included  Craig Schaeffer's sump pump code  and Tom's news_* code to mh/code/public.</P>
<P>- Added Voice_Cmd set_order method so you can control the order that the commands are listed
in web Category list.  The default is alphabetically by file, then by name.</P>
<P>- Pointed to a new top 10 list url in internet_data.pl</P>
<P>- Put time-date stamp back into the speech log</P>
<P>- Check for valid serial state data before saving, to avoid object state restore eval errors.</P>
<P>- Added a head_tail option to logit, so we can log records to the top (instead of the bottom) of a file
(e.g. tracking_bruce.pl).</P>
<P>- Added mh/code/examples/test_open2.pl as an example of how to read/write
to another program's STDIN/STDOUT</P>
<P>- Fixed a mh.exe problem with mail related steps.</P>
<P>- Fixed a bug that disabled brightening lights via the web interface</P>
<P>- Disabled auto-refresh on .shtml included html, per suggestion from Ron W.</P>
<P>- Fixed a bug where the web category name was lost on a code reload.</P>
<P>- Allow /graphics to be an http_alias.</P>
<P>- A web request to display data will now only display to the web page and not also
create a tk popup window.</P>
<P>- Added  Tom Kotowski's $Time_Of_Day global var (morning, afternoon, evening, and night)</P>
<P>
<H2><A NAME="mh ver 2.1 posted on 02/19/00">mh ver 2.1 posted on 02/19/00</A></H2>
<P>Version 2.1 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P>Mainly a few bug fixes from the 2.00 release.</P>
<P><STRONG>New Features:</STRONG></P>
<P>- The widgets now also show up in the category lists, before the voice commands.</P>
<P>- /widgets now shows widgets listed in code order, as it was before 2.00.
Added /widgets_type to be the widgets in sorted order like 2.00.</P>
<P>- Added mh.ini html_alias* parms.  This allows you to point to directories that are not under html_dir</P>
<P>- Added code to monitor All-lights-on and All-off, so mh can correctly track the state of 
X10_Item and X10_Appliance objects.</P>
<P>- Changed web Items and Groups to auto-refresh, so the state of the items stays current.</P>
<P>- Moved Speak_Log from Voice_Text to mh so the web interface will echo spoken text even when muted.</P>
<P>- Jay Archer sent a bunch of new icons.</P>
<P><STRONG>Bug Fixes and Minor Changes:</STRONG></P>
<P>- Enabled web response from widget commands</P>
<P>- Fixed a bug with the auto-refresh of the speak, log, and widget screens.  
It no longer will run the last selected commands on every refresh.</P>
<P>- Fixed a bug in set_password, when run directly from perl</P>
<P>- Fixed a bug that would cause + to be inserted instead of blanks for web entered data.</P>
<P>- Re-enable .shtml /list?xyz directives.</P>
<P>- Fixed a bug that caused netscape not to load really small graphics files.</P>
<P>- 'List X10 items' now includes Appliances.  Fixed 'List serial items' to list all ID codes.</P>
<P>- Fixed a bug that would add a suffix of 'nd' instead of 'th' to 11,12, and 13th Date_Now_Speakable dates.</P>
<P>- Fixed mp3_playlist so it does not fail if DB_File is not installed.</P>
<P>- Changed mh.ini to read vvo_speak instead of vvo_server (to enable IBM viavoice outloud)</P>
<P>- Move the get_email_rule.pl from mh/bin to the code_dir.
This allows you to modify it without changing files in the main distribution directory.</P>
<P>- Added FAQ 2.13: How can I control Command Categories</P>
<P>- Craig Schaeffer fixed a set_clock 2k bug.</P>
<P>- Delete X10_Item 'none' state (use manual instead).</P>
<P>- Updated monitor_server.pl to allow for 'web hits per hour'.</P>
<P>
<H2><A NAME="mh ver 2.00 posted on 02/12/00">mh ver 2.00 posted on 02/12/00</A></H2>
<P>Version 2.00 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P>We overflowed the mh version number, so rather than go from version 1.99 to 1.100, we 
decided to use 2.00.
This isn't a major re-write of mh (except for the web interface),
but mh has had enough changes since 1.00 that we thought maybe it deserved a new number :)</P>
<P><STRONG>New Features:</STRONG></P>
<P>- David Lounsberry and I re-vamped the web interface.
There are too many changes to summarize here, but most of it documented in the 
'Customizing the Web Interface' section of mh.html.
There are some new parms in mh.ini so you can taylor it somewhat with just parm changes.
For example, you can turn
the icons off and you can set the refresh rate of the speak, log, and widget label screens.
mh uses various search strategies for picking the best icon to match a command
or item (documented in mh.html), but if you want to manually pick an icon, you can
use the new set_icon method for various objects.</P>
<P>- Also include in the web overhall is a new last_response html response function,
which is now used by all the web RUN commands.  This will allow the web interface
to see all the Display and/or Spoken data, so now you -tk 0 guys can have some fun!</P>
<P>- Added state_log method to various items.  This is used in the Tk Items pull down state_log
entry and the new web pages.   It shows the time_date stamps of the last 
max_state_log_entries (mh.ini parm, default is 10) state changes.</P>
<P>- Added net_im_send.  This allows mh to send messages to AOL AIM clients. 
Set the new mh.ini net_aim_* parms and try running mh/test/internet_im.pl.  
More info is in mh/docs/mh.html.</P>
<P>- Added a tracking_mailto option to mh/code/Bruce/tracking_bruce.pl.
mh will now send me email or an instant messages whenever it detects our
cars have gone somewhere.  It is a great way to keep track of the family from work!</P>
<P>- Added a call to the new Astro::MoonPhase module to create,
$Moon{phase}, $Moon{brightness}, $Moon{age}, and $Moon{new,first,full,last} entries.  
See mh/code/test/time_info.pl for examples.</P>
<P>- I created a survey at <A HREF="http://sourceforge.net/survey/survey.php?group_id=1365&survey_id=10139">http://sourceforge.net/survey/survey.php?group_id=1365&survey_id=10139</A>
Unfortunatly it seems to only allow me to look at the results, but I'll
post a summary of the survey in a month or 2 so you can all see the results.</P>
<P><STRONG>Bug Fixes and Minor Changes:</STRONG></P>
<P>- Moved the loading of playlists from mp3_control.pl to mp3_playlist.pl</P>
<P>- Fixed CM11.pm so it would not do a power fail time reset after sending a D5 command.</P>
<P>- Added FAQ question 6.5 What is X10?.</P>
<P>- Added 'Coding your own events' to install.html</P>
<P>- Added mh/code/examples/x10_motion_sensors_kevin.pl</P>
<P>- Jay Archer added mh/code/public/door_monitor_jay.pl as an 
example of using an X10 powerflash and hawkeye motion sensors
to monitor and control a garage door</P>
<P>- Restored the mh/data/remarks/deep_thoughts.txt database (accidently deleted in the last release)</P>
<P>- Drop the extra ``'' in mh.ini favorite_tv_shows parm</P>
<P>- Fixed the web server stats report in monitor_server.pl</P>
<P>- Add plural_check to de-pluralize a string (example in monitor_shoutcast.pl).</P>
<P>
<H2><A NAME="mh ver 1.97 posted on 01/27/00">mh ver 1.97 posted on 01/27/00</A></H2>
<P>Version 1.97 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.net/download">http://misterhouse.net/download</A>
  <A HREF="http://misterhouse.sourceforge.net">http://misterhouse.sourceforge.net</A></PRE>
<P>Lets try this again!  The only change between 1.97 and the 1.96 posted earlier today is 
the O_CREAT error is fixed and the new X10 Garage_Door state is now saved.</P>
<P><STRONG>New Features:</STRONG></P>
<P>- Moved the mh CVS repository to sourceforge.net.  This doesn't affect most of you, but if anyone
who wants to get involved in updating core mh code, let me know and I'll send you a howto note.</P>
<P>- Added the time_random function.  This can be used to code randomly fired events.
See mh/code/test/goofy.pl and mh/doc/mh.html for examples.</P>
<P>- Danal Estes updated CM11.pl so it can now receive extended X10 data, in addition to sending it.
He also added a X10_Garage_Door object to X10_Items.pl and created code/public/Garage_Door.pl.
This allows mh to read Stanley Homelink modules.  See code/public/Garage_Door.txt for more info.</P>
<P>- Added mh/code/test/mp3_playlist.pl.  After setting the mh.ini mp3_dir to point to all your
mp3 directories, run ``build the mp3 database''.  When that step is done 
(it took about a minute to read many songs spread across 4 computers at my house), you can 
then use the MP3 Search and/or MP3 Genre tk fields to start your mp3 player for the requested songs.</P>
<P>- Updated internet_slashdot.pl to work with the newer slashdot xml standard.</P>
<P>- Added a said method to File_Item. 
This allows us to easily monitor the tail end of log files.
See shoutcast.pl for an example.</P>
<P>- Updated mh/code/Bruce/shoutcast.pl so it can be used with the newer, web based
shoutcast servers.  This code will announce when you have new listeners to your mp3 streamed broadcasts.</P>
<P>- Added mh/code/public/callerid.pl as another example on how to do callerid with a modem.</P>
<P>- Added  David Lounsberry's motion sensor code as code/examples/x10_motion_sensors_dave.pl</P>
<P><STRONG>Bug Fixes and Minor Changes:</STRONG></P>
<P>- Fixed an 'unrecognized data: X##' bug recently introduced into CM11.pm.</P>
<P>- Added a new_mail_light example to internet_mail.pl.</P>
<P>- Fixed the {a,b,c} enumeration problem on web category lists.</P>
<P>- Fixed the CM11 group set method so items are left in the correct state, rather than none.</P>
<P>- Fixed the DNS lookup in monitor_server.pl.  It always said 'web access from unknown',
even if you had the mh.ini DNS parm enabled.</P>
<P>- Allow display_callers to work with the compiled mh.exe.</P>
<P>- Fixed ``What is your uptime?'' in mh_control.pl, for linux users (again!)</P>
<P>- Added FAQ 4.2: How do I set setup networking between Windows boxes, 
1.14: How does mh read and use the user code in code_dir and,
6.5: How can I use cvs to co-develop core mh code</P>
<P>
<H2><A NAME="mh ver 1.93 posted on 01/05/00">mh ver 1.93 posted on 01/05/00</A></H2>
<P>Version 1.93 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Changed Voice_Text to allow for calls David Lounsberry's new ViaVoice Outloud TTS
server for Linux.  David has an rpm and a tarball, with installation documention, at:
<A HREF="http://dittos.penguinpowered.com/automation/index.html#software">http://dittos.penguinpowered.com/automation/index.html#software</A></P>
<P>- Added mh/code/test/stocks.pl.  This will use Yahoo to look up stock data
for the symbols listed in the new mh.ini stock parm.
All it does now is pop up a Tk window and update a Tk widget with last
prices and change data.  This could be exended to do logging, alerts, charts, etc.</P>
<P>- Added a Tk Code Search option to mh_control.pl.  This can be used to quickly find which
objects and/or variables are in which code files.  It pops up a Tk window that shows 
which code files the specified string is found in.</P>
<P>- Added ``List X10 Items'' and ``List serial items'' to mh_control.pl.  These will display
an sorted list of your items, so you can easily review what is assigned to what.</P>
<P>- If you are using an CM11, the Group object will now control all X10 
devices simultaneously, rather than sequentially. 
Thanks to Nic Brink for pointing out this option.</P>
<P>- Allow for the Voice_Cmd state to be in the response field with either of the following:</P>
<PRE>
  $v_fan = new Voice_Cmd 'Fan [on,off]',
           'Ok, I turned the fan $v_indoor_fountain-&gt;{said}';
</PRE>
<PRE>

  $v_fan = new Voice_Cmd 'Fan [on,off]',
           'Ok, I turned the fan %STATE%';</PRE>
<P>Bug Fixes and Minor Changes:</P>
<P>- Fixed the time_now problem with ``12:xx AM'' tests that Brent J. found.</P>
<P>- Fixed the 100 -&gt; 00 date display problem on the Tk windows.</P>
<P>- Added  Ron Wrights drop down box updates to get_tv_grid.</P>
<P>- Added  Nic Brink's mh/code/public/cd_player.pl code (for linux).</P>
<P>- Created $Date_Now_Speakable, complements of Amaury J.</P>
<P>- Added mh/code/public/send_alpha_page.pl from David Lounsberry
It uses a linux program called bip to send pages.</P>
<P>- Bill Birthisel updated CM11.pm to an official CPAN 2.06 version (extended data added).</P>
<P>- William Steiner found a bug in trivia.pl</P>
<P>- Fixed a bug with mh_server processing mhsend -run commands.</P>
<P>- Added File_Item read_all, read_head, and read_tail methods.</P>
<P>- Added numbers to the FAQ questions.  Added a ``What are the advantages/disadvantages to the 
compiled vesions of mh'' question.</P>
<P>
<H2><A NAME="mh ver 1.90 posted on 12/12/99">mh ver 1.90 posted on 12/12/99</A></H2>
<P>Version 1.90 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Craig Schaeffer added mh/lib/RCS_Item.pm and mh/code/public/rcs.pl, to allow for control
of the RCS TX thermostats.</P>
<P>- Added the option for internet_mail.pl to run commands via email.  
To test it, fill in the new mh.ini net_mail_command_code, then run
'send test e mail', then a little later 'list new e mail'.
See mh/docs/faq.html question 'Can do I send mh comands via email?' for
more info.  Thanks to Chris H. for this idea!</P>
<P>- Added mh/bin/outlook_read and mh/code/Bruce/outlook.pl.  This code will
read events from Outlook '97, '98, or 2000 calendars and create a mh code file.
The subject of the calendar entry can be ``VCR CH# Show name'', ``voice_cmd_to_run'',
or ``message to speak''.  Run outlook_read -help for more info.</P>
<P>- Added &amp;Voice_Cmd::said_this_pass and &amp;Voice_Cmd::noise_this_pass so we can get 
better feedback from the viavoice VR engine.  See mh/code/Bruce/lcdproc.pl 
for an example, where I use an LCD to display if a command or noise was detected.
Other minor changes to viavoice_control.pl</P>
<P>- Added a 'find a command' function to viavoice_control.pl.  This lets speak 
a word or two of and have mh return a list of all commands that match those words.</P>
<P>- Added an html log to tracking_bruce.pl.  Check out where our cars
have been at <A HREF="http://misterhouse.net:8080/aprs">http://misterhouse.net:8080/aprs</A></P>
<P>- Enabled Bright/Dim, and +-##% when using the X10 Weeder kit interface</P>
<P>- Added mh.ini date_format parm, so you can pick US mm/dd/yy or non-US dd/mm/yy.
You can also choose 2 year yy or 4 year yyyy formats.</P>
<P>- Took out hard coded small fonts and put in more html_style mh.ini parms (e.g. html_style_tk).</P>
<P>Bug Fixes and Minor Changes:</P>
<P>- Fixed a http server problem where Netscape would sometimes say 'Document contains no data'.</P>
<P>- Allow mh.ini parm html_default to be a list of possible default files, rather
than just one (e.g. index.html,index.shtml).</P>
<P>- Return a web Error page for unrecognized web requests.</P>
<P>- Return 'not authorized' if someone tries to access web files above the root web directory.</P>
<P>- Added $New_Week, like $New_Day, $New_Month etc.</P>
<P>- Added file_cat so we can concatonate data from one file to another.</P>
<P>- Fixed ``What is your uptime?'' in mh_control.pl, for linux users.</P>
<P>- Fixed 2 recently introduced log related bugs with display_callers.</P>
<P>- Allow for blanks before and after the = in mh.ini files.</P>
<P>- Allow for mh objects to be declared without () around the new argument. Either 
of these are now allowed:</P>
<PRE>
  $test1 = new Voice_Cmd &quot;Test 1&quot;;
  $test1 = new Voice_Cmd(&quot;Test 1&quot;);</PRE>
<P>Along with this change, mh now requires objects declarations (e.g. new Voice_Cmd)
to start in column 1-3.  This is consistant with global 'my' variables. 
Unfortunatly, this may break 
some code that used to have global objects that were indented.  For example, 
several objects in the old test_stuff.pl were that way.</P>
<P>I debated this change for some time, but it seems better to be consistant. 
I could see problems with pulling out any/all objects (e.g. eliza object in speak_server.pl).
I can get talked out of it if this is a problem for someone.</P>
<P>
<H2><A NAME="mh ver 1.89 posted on 11/20/99">mh ver 1.89 posted on 11/20/99</A></H2>
<P>Version 1.89 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Added HomeVision support, complements of Ingo Dean.  Set the Homevision_port mh.ini parm
to enable.  Check mh/code/public/test_homevision.pl for example code.</P>
<P>- Upgraded viavoice_server to V2.0 SDK.  Added instructions in install.html on how to 
install viavoice SDK (available free from IBM, for linux only).</P>
<P>- Added 3 new Voice_Cmd options:  $response, $confirm, $vocabulary.  These are currently
only used if you are using the viavoice engine, which currently is only available 
on linux (you linux guys now have a leg up!).  We might be able to add these
new options to the MS VR engine, but I'm not convinced the current MS VR engine is 
accurate enough to justify the effort.   If you have a linux box running on your 
network, you can use the viavoice_server from your windows mh (which is what I am doing).
Another option is maybe we can compile a version of viavoice_server for Wwindows, but
that would not be free.  I think IBM sells their windows version of viavoice for around $100.</P>
<P>- Created mh/code/Bruce/viavoice_control.pl.  Using this, you can switch between
'awake', 'asleep', and 'off' modes.  Added a bunch of viavoice_* parms to mh.ini
so you can personalize how these modes work.</P>
<P>Bug Fixes and Minor Changes:</P>
<P>- Added an -hour option to get_tv_grid, so you can specify grid times other than the
default of 4 hours.</P>
<P>- Added -size and -type options to report_weblog.  Change -type default from gif to 
png.  I am a little late to the 'burn all gifs' party!</P>
<P>- Added a check for an html browser, before displaying the help text.</P>
<P>- Changed the 3rd argument to logit to be the &amp;time_date_stamp format used.
The default is unchanged 14 (e.g. Mon 04/14/99 14:28:00).</P>
<P>- Fixed a bug with the new set_with_timer option added last to X10_Item.</P>
<P>- Added mh.ini sound_program parm.  If you are on linux and to not have a sound card
or do not want sound files played, set this to blank.</P>
<P>- Drop 50 frow/o + from X10_Items.</P>
<P>
<H2><A NAME="mh ver 1.87 posted on 11/07/99">mh ver 1.87 posted on 11/07/99</A></H2>
<P>Version 1.87 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Added the option to interface to a viavoice_server Voice Recognition server running on linux.
The server (complements of Michael Flaster) currently requires the V1.0 SDK installed.  The V2.0 SDK
was just release and probably requires a different executable, so unless you really want to be
bleeding edge, you probably want to wait till Michael and I get the new version up.  Mike, 
I'll send you a seperate note on how to enable mh to use it and what works and what doesn't.</P>
<P>- Added Voice_Cmd 'phrase enumeration' with {} (e.g. {tell me the time,what time is it}).
Unlike the existing 'state enumeration' with [] (e.g. [on,off]), you can
have as many phrase enumeration groups as you want.  Examples are in mh.html and in 
<A HREF="http://misterhouse.net/mh/code/examples/Voice_Cmd_enumeration.pl">http://misterhouse.net/mh/code/examples/Voice_Cmd_enumeration.pl</A> .</P>
<P>- Extended X10 Preset Dim commands are now supported, if you have the CM11 interface and a compatible (LM14A) module.
You can send them directly, like XA1&amp;P64 (set unit A1 to Preset level 64), or use the new X10_Item ##% state.
Examples are in <A HREF="http://misterhouse.net/mh/code/examples/x10_preset_dim.pl">http://misterhouse.net/mh/code/examples/x10_preset_dim.pl</A> .  Also look for ``Preset Dim'' in mh.html.</P>
<P>- Added a set_with_timer X10_Item and X10_Appliance method.  This idea is complements of Craig.  Examples are in mh.html.</P>
<P>- Added $Reread.  This is true on the first pass after a <CODE>Reload(F1)</CODE> request.  Unlike $Reload 
which is is true only if one or more code members changed, $Reread is always true on a Reload request.
Using $Reread, you can create events to quickly re-read input
files without restarting mh (e.g. the tracking.pl position file).</P>
<P>- Added mh.ini time_format=24 option, for our non-US buddies.</P>
<P>Bug Fixes and Minor Changes:</P>
<P>- Moved X10_xx items from Serial_Item.pm to X10_Items.pm.</P>
<P>- Allow for X10_Item brighten levels to work without the '+' sign (e.g. 50 instead of +50).</P>
<P>- Fixed a mh.exe bug with get_url ('port not specified' message).</P>
<P>- Fixed a recent bug that caused Serial_Item not to start after being stopped.</P>
<P>- Fixed a get_weather bug where conditions were not always retreived.</P>
<P>- Used the mh.ini data_dir in get_tv_info, instead of the hardcoded mh/data.</P>
<P>- Closed an file handle in Display.</P>
<P>- Added code/public/weather from Ernie Oporto</P>
<P>- Added code/Bruce/tracking_bruce.pl.  This is a subset of Brian's mh/public/Brian/tracking.pl code that 
just does GPS tracking.</P>
<P>- Renamed the convert_wind_direction to convert_direction (since we can use it in the gps tracking code also).</P>
<P>- Updated to the latest version of Geo::WeatherNOAA.pm, used by get_weather.</P>
<P>- Changed time/date format of logit (uses 24 hour time and includes seconds and year).
If anyone wants the old format back, let me know and we can put in an option.</P>
<P>- renamed file_change to file_changed (and granfathered in old name) and added file_unchanged.</P>
<P>
<H2><A NAME="mh ver 1.83 posted on 10/09/99">mh ver 1.83 posted on 10/09/99</A></H2>
<P>Version 1.83 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Added mh.ini password_protect=all option.  If this is used, and mh/bin/set_password has
been run, none of the mh web pages will be displayed unless you have entered the password.</P>
<P>- Added mh.ini max_log_entries, to control how many entries are shown in the web print and speak logs.</P>
<P>- Updated the FireCracker CM17.pm module to allow for numeric bright/dim (e.g. ``set light to +50'').
As noted in the mailing list earlier this week, the CM17 only supports one DIM and BRIGHT command,
so we have to run a loop in CM17.pm.  Each CM17 command takes about 1 second, and it takes 7 DIM/BRIGHTS
to cover the whole range, so a +95 will cause mh to pause for about 7 seconds.</P>
<P>- Updated mh/code/Bruce/phone.pl and mh/bin/display_callers so they search mh.ini caller_id_file data also.</P>
<P>Bug Fixes and Minor Changes:</P>
<P>- Re-fixed the DB_file compile bug in handy_utilites, introduced in 1.82.</P>
<P>- Updated Serial_Item.pm so it works with mh/code/public/rcstx15.pl again.</P>
<P>- Fixed test on zero length xcmd_files.</P>
<P>- Fixed a bug in time_date_stamp format 13.</P>
<P>- Added dbm_read function, for reading just one record from a dbm.</P>
<P>- Added mh/code/public/Nick.  This is the code we set up for my son Nick's room.</P>
<P>- Refreshed CM11.pm and CM17.pm to from CPAN and moved from mh/lib/site/HomeAutomation to mh/lib/site/ControlX10.</P>
<P>
<H2><A NAME="mh ver 1.82 posted on 10/02/99">mh ver 1.82 posted on 10/02/99</A></H2>
<P>Version 1.82 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Added X10_Item interface field, so you can specify if which X10 device you want to use to control that item.</P>
<P>- Allow for serial port sharing.  For example, you can put the CM11 and CM17 (ActiveHome and FireCracker)
interfaces on the same port.</P>
<P>- Changed logit_dbm and display_callers from SDBM_file to DB_file.  This is a more reliable DBM storage format.
If you have been using display_callers or have your own DB file that used the logit_dbm function, you will
need to convert to the new format using <A HREF="http://misterhouse.net/public/dbm_sdbm_to_db">http://misterhouse.net/public/dbm_sdbm_to_db</A></P>
<P>- Added a search_dbm function.  Updated mh/code/Bruce/phone.pl and mh/bin/display_callers to use it.
Using this, we can quickly search for the phone number of anyone who has ever called us, using a part of their
name or phone number (e.g. area code).</P>
<P>Bug Fixes and Minor Changes:</P>
<P>- Updated mh/phone/phone.area_codes.txt (thanks Bill!)</P>
<P>- Exposed CallerID.pm names and states arrays.</P>
<P>- Fixed 'use lib' with mh.exe bug in get_tv_grid and set_password.</P>
<P>- Fixed a bug with the file 'copy' function when run from mh.exe</P>
<P>- Changed file_change to return undef when first called.  So it returns 1 if the 
file has changed, 0 if it has unchanged, and undef it we don't know (because mh just started).</P>
<P>- Minor bug fix in processing of a get_email_rule.pl rule.</P>
<P>- Updated mh.exe to latest Activestate build (520)</P>
<P>- The new release of ActiveState perl, build 520, has a new function for 
volume control:  Win32::Sound::Volume($left, $right).  So those of you with that build
or those using mh.exe can try this function.  I found it didn't work as 
documented ( <A HREF="http://www.activestate.com/ActivePerl/docs/lib/site/Win32/Sound.html">http://www.activestate.com/ActivePerl/docs/lib/site/Win32/Sound.html</A> )
Looks to me like the sound range is from 0 to 255), and it would always zero out 
the right channel.  If we can get this to work, we can add in a volume_stub to speak
so we can support different volume levels.</P>
<P>
<H2><A NAME="mh ver 1.79 posted on 09/26/99">mh ver 1.79 posted on 09/26/99</A></H2>
<P>Version 1.79 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Buffer incoming X10 data so that multi-keyed events can be processed,
one keystroke per pass.  For more info, see the mailing list thread  ``missed'' X10 signals.</P>
<P>- Added mhsend and mhsend_server.pl.  These are a more flexible replacement for the speak_server.pl code.
They allow you to send data to mh over the intra/internet.  Data can be logged, filed, spoken, displayed,
or run.  Password authorization is the same as for web pages.</P>
<P>- Added -mail_to option to get_tv_grid.  If specified (see <A HREF="http://misterhouse.net/mh/code/test/tv_grid.pl">http://misterhouse.net/mh/code/test/tv_grid.pl</A> for an example),
it will email the default tv web page so you can have the current TV schedule in your html 
compatible inbox.</P>
<P>- Allow control of Reload and Error sounds in mh.ini.</P>
<P>- Added sound_dir to mh.ini, so you can point to your own directory of wav files.</P>
<P>- Added sendkeys_find_window.  It adds the option of starting a program if its window is
not found.  See mh.html or <A HREF="http://misterhouse.net/mh/code/test/internet_mail.pl">http://misterhouse.net/mh/code/test/internet_mail.pl</A></P>
<P>- Another example of how to use SendKeys to send/receive mail 
with Outlook and Outlook Express in mh/code/test/internet_mail.pl</P>
<P>- Add mh.ini password_allow_clients parm so we can specify intranet boxes that do not
require password protection.</P>
<P>Bug Fixes and Minor Changes:</P>
<P>- Added a note on the Windows 98 DCOM update to install.html and faq.html.</P>
<P>- Added 2 missing .gifs to the TV web pages.  Re-enabled the detailed program discriptions
from the clicktv site.  Unfortunatly, I'm not sure how to get the Javascript popup windows re-enabled.
The web pages I download do not use PDetail javascript subroutine.</P>
<P>- Enabled the get_tv_grid -label option.  Default it to &lt;img src=``/tv/vcr.jpg''&gt;</P>
<P>- Fixed a bug where web pages would keep waiting when running events that do not respond with spoken or displayed data.</P>
<P>- Fixed the 'command not found' bug that Bill Birthisel noticed at startup.</P>
<P>- Added a check for bad data in code/mh_temp.saved_states.</P>
<P>- Fixed a bug where web links to commands with _ in them would not work.</P>
<P>- Changed set_password, set_clock, get_tv_grid, get_weather, 
and display_calls to use the new mh.ini data_dir and html_dir parms.</P>
<P>- Save state of debug flag between code reloads.</P>
<P>
<H2><A NAME="mh ver 1.77 posted on 09/17/99">mh ver 1.77 posted on 09/17/99</A></H2>
<P>Version 1.77 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>New Features:</P>
<P>- Added Socket_Item is_available and set_port methods, so we can have mh make sure various
socket ports are up (see <A HREF="http://misterhouse.net/mh/code/Bruce/monitor_mh.pl">http://misterhouse.net/mh/code/Bruce/monitor_mh.pl</A> for an example).
Don't tell the 'script kiddies' about it or they will use it as a port scanner.</P>
<P>- On Windows, there are two new functions that can be used for controlling other applications.  
WaitForAnyWindow and SendKeys are new functions exported from a perl module called Win32::Setupsup.
Full documentation is in mh/lib/site/Win32/Setupsup.html, but most of what you need to know can
be gleaned from the function descriptions in mh.html.  Examples can be found in 
<A HREF="http://misterhouse.net/mh/code/test/">http://misterhouse.net/mh/code/test/</A> members 
mp3_control and  test_stuff.pl (tests o and p)</P>
<P>Bug Fixes, small changes:</P>
<P>- Fixed the CM17 bug that Bill Birthisel found.  Also moved CM11.pm to the lib/site/HomeAutomation/X10 directory.</P>
<P>- Fixed a bug where blanks in '# Category=my category' directives messed up web pages listings.</P>
<P>- Changed the Tk Command menu items so it will not list empty groups.</P>
<P>
<H2><A NAME="mh ver 1.75 posted on 09/12/99">mh ver 1.75 posted on 09/12/99</A></H2>
<P>Version 1.75 was just uploaded to:</P>
<PRE>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A>
  <A HREF="http://misterhouse.net/mh">http://misterhouse.net/mh</A> (for unziped, individual files)</PRE>
<P>Here is what's changed:</P>
<P>- Added a data_dir parm, and renamed html_root to html_dir (html_root will still work).  As outlined at the
top of mh.ini, changing code_dir, data_dir, and web_dir should be enough to keep your files seperate from 
the mh distribution, for easier upgrades.</P>
<P>- Changed the mh/web/mh_chaz and mh/web/mh2.  Renamed the old page from mh_default to mh1.  You
can play/change with the different web pages by pointing to:</P>
<PRE>
  <A HREF="http://localhost:8080/mh_chaz">http://localhost:8080/mh_chaz</A> 
  <A HREF="http://localhost:8080/mh1">http://localhost:8080/mh1</A>
  <A HREF="http://localhost:8080/mh2">http://localhost:8080/mh2</A></PRE>
<P>Or you can edit your mh.ini html_dir parm and hit Reload, then refresh your browser window.</P>
<P>mh2 is a combination of the old mh1 interface with some of the nifty new stuff that Charles has in 
mh_chaz.  Thanks to Charles for his expert web work!</P>
<P>- Added mp3_control.pl for controlling mp3 songs.  On Windows it uses wactrl.exe from David Kindred.  
We should be able to find a linux player we can control from the command line in a similar way.  If
not we can compile the new perl MP3 module.</P>
<P>- Improved, but didn't fully fix the memory lead on Reload problem.  I (painfully) tracked this 
down to a Tk Menu problem and the perl Tk author is taking a look at it.
Until that is fixed, if you are doing frequent code reloads, you may want to turn off the pull down menus
by editing the 3 tk_* parms in your mh.ini or run with:</P>
<PRE>
   mh -tk_items 0 -tk_commands 0 tk_groups 0</PRE>
<P>Items uses the most memory, so just turning that one off will probably be enough.  On my box with -tk_items 0, mh leaks about
200k per reload, it costs me 2 meg per 10 reloads.</P>
<P>- Added mh/docs/faq.html (and faq.txt).  Added/changed a few items from when it was first posted a few weeks ago.</P>
<P>- Added $Holiday.  See mh.ini holiday_dates parm.</P>
<P>- Added mh.ini html_style option.  Use this to change mh web pages colors and fonts.</P>
<P>- Added mh/bin/alpha_page from Craig Schaeffer</P>
<P>- Some more homebase updates.  Bob and I are closing in on getting this working.</P>
<P>- Some SerialPort and CM17/CM11 updates.  Bill Birthisel is kindly going through all the work to preparing the
CM17/CM11 modules for eventual upload to a new perl CPAN HomeAutomation::X10 directory.</P>
<P>- Updated get_tv_grid to work with the new click.tv pages.  It now also deletes old shows from the dbm database.</P>
<P>- mh/web/mh_default/test bar graphs were pointing to the wrong directory, so the color from the one dot gif did not show.</P>
<P>- Changed the Reload and Error sounds to use mh/sound/sound_click1 and sound_beep1.</P>
<P>
<H2><A NAME="mh ver 1.71 posted on 08/29/99">mh ver 1.71 posted on 08/29/99</A></H2>
<P>Version 1.71 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Here is what's changed:</P>
<P>- Added support for 4x20 LCD interface with keypad.  I've just started using it, but this looks
like it will be a really handy, inexpensive ($100) way to query/display mh data.  See mh/code/Bruce/lcdproc.pl
and/or the hardware section of mh.html for more information.</P>
<P>- Added support for the $30 IRman receiver.  mh/code/Bruce/irman.pl shows how to program a database
for your IR, and how to set a Generic_Item that you can then use to trigger events in any code
member.  See irman.pl and/or mh.html for more info.</P>
<P>- Added support for .pl web files.  Like 'cgi' programs, this allows us to generate html on the fly,
that reflects the status of various mh items.  For a few examples, try 
<A HREF="http://misterhouse.net:8080/mh_default/test/test_stuff.shtml">http://misterhouse.net:8080/mh_default/test/test_stuff.shtml</A> .  Brian Klier has another example in
mh/web/examples/statuspanel.pl</P>
<P>- Added set_dtr set_rts methods to Serial_Item.  See irman.pl for an example.</P>
<P>- Added a Process_Item set method, so the Process_Item program and/or arguments can be set/changed
after mh startup.  See mh/code/Bruce/reports.pl and/or mh.html for an example.</P>
<P>- Fixed the <CODE>Log(F5)</CODE> option, so it correctly toggles on and off.  Useful if you want to turn logging
on for just a bit, then turn it off again.</P>
<P>- Fixed get_email and display_callers so they work when mh.private.ini is pointed to with ENV var mh_parms.</P>
<P>- Disabled Serial_Item state_now results for the first few passes after startup.  This way we can 
initialize Serial Items at startup and not get false triggers.</P>
<P>- Added mh/code/test/startup_msg.pl to give a few pointers to first time mh users.</P>
<P>- I just noticed a resource leak when doing code reloads.  About 6% of windows resources (per the Win98 resource meter)
on each reload!  I'm suspect this bug has been with us a for a few releases.  I'll try to fix it next time round.  Till
then, best restart mh about every 10 reloads or so.</P>
<P>- More Homebase.pm debug.  Bob, I'll send a seperate note to you on this.</P>
<P>
<H2><A NAME="mh ver 1.69 posted on 08/01/99">mh ver 1.69 posted on 08/01/99</A></H2>
<P>Version 1.69 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Heres what's changed:</P>
<P>- Fixed the run bug that Craig found, introduced in 1.68.</P>
<P>- Added status option.  For those with CM11 and the newer, smarter, more expensive queriable X10 modules
(e.g. PLM21 lamp module).  Now you can send periodic 'set $my_light STATUS' and it will set the state
of the item, so you can account for manual control of lights.  Thanks to Brandon for starting the work on this one!</P>
<P>
<H2><A NAME="mh ver 1.68 posted on 07/31/99">mh ver 1.68 posted on 07/31/99</A></H2>
<P>Version 1.68 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Heres what's changed:</P>
<P>- Some new HomeBase subroutines to test.  Bob, copy mh/code/Bruce/test_homebase.pl into your code dir
and try the various tests.  I have very little confidence in any of them, but they should give us a place
to start debuging.  The documentation I have is very poor, so if you can dig up anything better,
that would help.</P>
<P>- Added html_reponse method last_displayed (see previous posts and/or mh.html).</P>
<P>- Added  Charles C.'s javascript to the mh/web/mh_default/category.shtml.  The only example that uses it is the
'deep thought' button.</P>
<P>- Added mh.ini allow_password_file and mh/data/password_allow.  This gives those of us who password protect
our web pages (with mh/bin/set_password) the option of allowing specific command and/or items to not 
be password protected.  For example, anyone can click on the 'display the next deep though' on my web page
at <A HREF="http://misterhouse.net:8080">http://misterhouse.net:8080</A></P>
<P>- Bill Birthisel updated Device/SerialPort.pm so should now load OK even on Unix boxes without the proper .ph files.</P>
<P>- Added some new small sounds in mh/sounds.  mh will now bypass logging the wave file name in the speak
log if the name of the file starts with sound_*.   These are ment to be short, frequent sounds.</P>
<P>- Added mh/code/test/monitor_server.pl.  This code will make a clicking sound whenever anyone hits on the
misterhouse web server.  It also can announce new clients.  There is also a new local_addresses mh.ini parm
so this code can distinguish between local hits and external hits.</P>
<P>- Added mh/bin/monitor_weblog, which does the same sort of monitoring as above, but it monitors an Apache
server log, rather than the MisterHouse web server.  This can run on a different box, as it passes the
hit info to MisterHouse via the speak_server port.</P>
<P>- Added mh/bin/report_weblog, and mh/code/Bruce/reports.pl.   This code generates gif graphs that reflect
how many hits and clients Apache and/or Misterhouse logs shows.  It can optionally email the graphs.
  For an example of the graphs, check out:  <A HREF="http://misterhouse.net/report_weblog.html">http://misterhouse.net/report_weblog.html</A></P>
<P>- Added a mh.ini browser parm and enabled the tk Help button (brings up mh.html).</P>
<P>- Log files now include startup info (e.g. program version).</P>
<P>- Added mh/bin/test_cm* scripts for testing CM11 (Activehome) and CM17 (Firecracker) X10 interfaces
stand alone, without mh.</P>
<P>- Fix a bug that disabled the DOS console controls.</P>
<P>- Fixed a bug with run if the full pathname to the program was specified.</P>
<P>
<H2><A NAME="mh ver 1.65 posted on 07/22/99">mh ver 1.65 posted on 07/22/99</A></H2>
<P>Version 1.65 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Heres what's changed:</P>
<P>- Enabled the Firecracker CM17 interface on both Unix and Windows.  Much thanks to Bill Birthisel for his 
efforts in updating the SerialPort modules!  If you know of someone who wants cheap one-way (transmitting) control
with X10, they can still get the $6 deal at <A HREF="http://www.x10.com/free_fire.htm">http://www.x10.com/free_fire.htm</A>  The ``offer ends at midnight'' is the standard
X10 ploy which typically last for months.  Also handy if you want wireless control from a laptop (it transmits commands
to an RF receiver).</P>
<P>- If you have password protection on (i.e. you have run the mh/bin/set_password program), the web speak log and print_log
files will now require authorization.  You can change it back to allowing anyone to view those logs by blanking out the 
new mh.ini password_protect option.</P>
<P>- You can now use 'server side include' directives in your web html, to allow better control of the mh generated lists.
Charles, this wasn't exactly the function you asked for, but I thought it would us more control and be more secure
than allowing functions to be passed in via the url name.  If you still see benefit in what you originally asked for,
or think of something else useful as you design your mh web page, let me know.   See the 'include file' string in 
mh_default/category.html and/or the mh.html docs for an example.  Note: the files must have a .shtml extension for this to work.</P>
<P>- Moved the default web files from mh/web/mh to mh/web/mh_default.  As before, you can create your own web files and point
to them with mh.ini html_* parms.</P>
<P>- Added a state method to voice_cmd (see previous post to this list and/or the mh.html doc).</P>
<P>- Created mh/code/Bruce/shoutcast.pl to monitor the coming and going of listeners to any shoutcast server you have 
a password for.  Shoutcast servers (available on many platforms from <A HREF="http://shoutcast.com)">http://shoutcast.com)</A> stream live audio from 
winamp players.  I often have one running at my house if you want to stop by and say hello at <A HREF="http://misterhouse.net/speak/">http://misterhouse.net/speak/</A>
Using my microphone, I can respond to any comments you might type in.</P>
<P>- Made the debug messages in HomeBase.pm conditional.</P>
<P>- Speed up the processing of unbuffered socket data.  Telnet sessions to mh (telnet localhost 1234) are now much faster.</P>
<P>- Fixed a SET_VAR bug with strings that had blanks in them (introduced in 1.63).</P>
<P>- Fixed a get_tv_grid bug where it would mess up the 'set the vcr' name for the show.</P>
<P>
<H2><A NAME="mh ver 1.63 posted on 07/05/99">mh ver 1.63 posted on 07/05/99</A></H2>
<P>Version 1.63 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Guess who stayed home over the 4th :)</P>
<P>Two really nifty new functions with this version.  A 'chatbot' speak server, and 
a searchable TV database.  I also finished the mh.html document.</P>
<P>Here is the detailed list:</P>
<P>- Modifed get_tv_grid to create DBM database files of TV show times and content.</P>
<P>- Added get_tv_info to query the tv DBM files.   After visting the clicktv.com site
and personalizing your listing, update clicktv_id in your mh.private.ini with your id.
Then create/update your databse by running something like:</P>
<PRE>
    get_tv_grid -hour all -days 2
</PRE>
<PRE>

  If you already have been running this, you can use the mh/web/tv/clicktv 
  files already downloaded and quickly update the database with:</PRE>
<PRE>
    get_tv_grid -hour all -days 2 -redo</PRE>
<PRE>
  You can then run a test search with something like this:</PRE>
<PRE>
    get_tv_info -channels 4
    get_tv_info -keys dilbert</PRE>
<PRE>
  Now you can search the database using the voice commands or 
  tk entry widget setup by mh/test/tv_info.pl.</PRE>
<P>- The get_tv_* programs use the DB_File DBM, rather than the built in SDBM_File DBM.  The good news is that
DB_File works (SDBM_File has a bug under windows and is in general slow and flaky).
The bad news it is not installed by default.  Those
of you who are not running the compiled versions of mh will need to run:</P>
<PRE>
  On windows:  ppm install DB_file</PRE>
<PRE>
  On unix:       &gt; perl -MCPAN -eshell
             cpan&gt; install DB_file</PRE>
<P>- Modified speak_server.pl.  You can how used it to process HTML FORM data directly,
without a real web server.   It is seperate server from the mh http server (on a different
port), so you can control authentication on it differently.  You can password
protect the rest of the mh web server functions, but allow people to talk to you 
via the net without a password.  For an example, come say hello to us at:</P>
<PRE>
    <A HREF="http://misterhouse.net:8080/speak/index.html">http://misterhouse.net:8080/speak/index.html</A></PRE>
<P>To enable this, copy speak_server.pl to your code dir, edit mh/web/speak/speak.html to point your IP
address (localhost will work also) and match the port with the entry in mh.ini (the default 
is now 8082) and then point your browser to:</P>
<PRE>
    <A HREF="http://localhost:8080/speak/index.html">http://localhost:8080/speak/index.html</A></PRE>
<P>This also has a 'ChatBot' option, so you can program your house to talk back :)   The rules are in 
mh/data/eliza/*.txt.</P>
<P>- I finally finished filling in the blanks for all the Items, Variables, Functions, and 
Companion Programs in the mh.html/mh.txt documents.  I'm sure the description of much
of mh still leaves much to be desired, but its a start and it has plenty of examples.</P>
<P>- Allow for a simple mode of calling the play function.  Also included a sample wav file
( try 'How do you pronounce MisterHouse' from mh/test/hello_play.pl).  Changed the default 
so that the play process will fork under linux (i.e. mh does not wait for 
sound file to finish playing).</P>
<P>- Added more smarts to the net_domain_name function.  See mh.html for details and examples.</P>
<P>- Move html_escape function into the http server, so you no longer need to call it to clean
up html SET_VAR results.</P>
<P>- Fixed the get_tv_grid Copy.PM proglem and added a -label option so you can change 
'Set the VCR' to whatever html you want.</P>
<P>- Updated CM11.pm so that when it resets after a power fail, it sends
the correct time, rather than a bogus 0 time.</P>
<P>- Fixed a bug in the file_head function.</P>
<P>- Added a flag option to the File_Item set_watch method (used in code/test/tv_info.pl).</P>
<P>- Added a %Tk_results hash, so we can use Tk entry items better.  See tk_entry in mh.html for details.</P>
<P>
<H2><A NAME="mh ver 1.61 posted on 06/27/99">mh ver 1.61 posted on 06/27/99</A></H2>
<P>Version 1.61 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Here is a list of this months changes:</P>
<P>- Fixed a bug where various files were not allowed to be changed while mh was running (forgot to close some file handles).</P>
<P>- Fixed a bug where X10 Appliance states were not saved.</P>
<P>- Fixed a bug that caused a timer action to be duplicated, if the timer was reset.</P>
<P>- Include File::Copy so get_tv_grid works for everyone.</P>
<P>- Allow for multiple DNS servers.</P>
<P>- Added &amp;html_unescape function, to decode HTML FORM data.  Here is an example:</P>
<PRE>
  if ($Save{web_text1}) {
      my $msg = &quot;Internet message: &quot; . &amp;html_unescape($Save{web_text1});
      speak $msg;
      &amp;display($msg, 120, 'webcam text'); # 120 seconds till autoclose
      $Save{web_text1} = ''; 
  }
</PRE>
<PRE>

- Fixed it so the compiled versions no longer have to be started from the mh/bin directory.</PRE>
<P>- Allow for a mh_parms enviromental variable.  See the mh.ini header for examples on syntax.
This allows you to have your 'mh.private.ini' file wherever you want. 
If you also specify the mh.private.ini code_dir parm, you should be able to 
keep all of your personalized mh stuff seperate from the standard distribution.  Hopfully this will 
make upgrading as simple as unziping the new distribution.</P>
<P>- Added a 'state' link on the default 'By Object Type' section of the web page.  This allows you to view
the current state of various items.  This is less noisy than the normal list that shows all possible states.</P>
<P>- Added support for the new CM17 X10 interface (aka firecracker).  Not very useful, as it Currently only works on Windows,
it is slow (2-3 seconds per command), and it is transmit only.  But it is cheap :) ($6 from x10.com).</P>
<P>- Modified the syntax of the optional html_response directive for the RUN, SET, and SET_VAR html commands.
Also added the option of having the html reponse be a user defined function.  See mh.html for more info.</P>
<P>- Moved  Brian Klier's code from mh/code/public to mh/code/public/Brian.  Added  Mike M's webcam code.
I'd be happy to distribute any other code, for those brave enough :)</P>
<P>
<H2><A NAME="mh ver 1.58 posted on 06/20/99">mh ver 1.58 posted on 06/20/99</A></H2>
<P>Version 1.58 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Here is a list of this months changes:</P>
<P>- Fix uptime on linux (was counting down, thanks Matt!).</P>
<P>- Fixed a get_tickcount problem that caused uptime to count down after 25 days on windows (thanks Craig!).
Windows still has the problem of rolling over its counter after 49 days.</P>
<P>- Fix 'data=165' CM11 problem that Matt found.  The documentation said you had to download a macro
to turn off this power-fail indicator, but that did not work.  Reseting the CM11 clock, however, does the trick.</P>
<P>- Store the IP address of clients.  For example, the address from the last 
web access is in $Socket_Ports{http}{client_ip_address}.</P>
<P>- Added the DNS_server mh.ini parm and the &amp;net_domain_name function. This allows us to look up the
domain name of any IP address.</P>
<P>- Allow for different html responses to the html RUN and SET commands.  The response can be a string, contents of a file,
or the last spokent text.  For example:</P>
<PRE>
  &lt;li&gt;&lt;a href=<A HREF="http://localhost:8080/RUN?WebCam_light_brighten?test/test3.html&gt">http://localhost:8080/RUN?WebCam_light_brighten?test/test3.html&gt</A>; +50&lt;/a&gt;</PRE>
<P>will return the contents of mh/web/test/test3.html after running the command 'WebCam light brighten'.
See 'Customizing the Web Interface' section of mh.html for more examples.</P>
<P>- Allow for setting of variables directly from html. 
This allows us to specify web widgets indpendently of tk widgets.  For example:</P>
<PRE>
  &lt;FORM ACTION=&quot;SET_VAR&quot;&gt;Test 1:&lt;INPUT SIZE=5 NAME=&quot;$Save{test_input1}&quot;&lt;/form&gt;</PRE>
<P>- Change the debug flag.  It now indicates the category of debug, rather than just everything on or off.  For
example, set debug to serial to see serial port debug.</P>
<P>- Took blanks out of the timer categories string, so they work on from the web interface.</P>
<P>- Changed web page so it only list categories that have commands (i.e. empty categores will not be listed).</P>
<P>- Changed how the new TV schedule is loaded in tv_grid.pl.  The old read_user_code method would sometimes cause a perl abend.</P>
<P>
<H2><A NAME="mh ver 1.56 posted on 05/30/99">mh ver 1.56 posted on 05/30/99</A></H2>
<P>Version 1.56 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A>
  <A HREF="http://misterhouse.net/house/programs/index.html">http://misterhouse.net/house/programs/index.html</A></PRE>
<P>Here is a list of this months changes:</P>
<P>- Got a new domain name!  misterhouse.net.  Thanks to Jon for helping me set this up.  This is via
a cable modem to a linux box in my house.  It has a limited upload data rate, so you probably want to
download large files from one of the other 3 servers.</P>
<P>- The files are packaged differently now.  A mh_src_156, mh_win_156, and mh_linux_156.   Everyone will want
the mh_src_156 file.  The other 2 files contain only the compiled files, required for those who do
not have perl installed.  The compiled linux version
is new, but other than an error on exiting, seems to be working OK.</P>
<P>- Fix a get_email bug that caused it to re-announce old, unreceived email as new email.  Also 
changed get_email so it will not list blank names, as filtered by get_email_rule.pl</P>
<P>- Cleaned up some net_mail_login errata.</P>
<P>- Updated mh.exe to SerialPort 0.15, Tk to 8.014, and perl to 5.005_003 build 517.</P>
<P>- Added a check that freezes the current time, if the system clock was set back in time.  mh keeps processing real time
events, but it will not re-trigger timed events.  When the real time catches up to the time mh was at, normal mode resumes.
This fixes the problem of events re-triggering after a call to set_clock, where the pc clock was adjusted back in time.</P>
<P>- Added -time_start, -time_stop, and time_increment options.  This allows you to debug time events in a simulated fast mode.
For example, the following will simulate one days worth of events (takes about 3 minutes on my box), with a default 
of -time_increment 60 (60 seconds per loop).  There are more examples in mh.html.</P>
<PRE>
    mh -time_start 0 -time_stop 24 -voice_text 0</PRE>
<P>- Fixed Cpu Used %, uptime, and loops per second meters for linux users.  Also added 'Memory Used' 
(only for linux ... I don't know how to do that for windows).  Never guess who has finially gotten
his linux box up and running and has been reading proc manpages :)</P>
<P>- Added web widgets.  All the tk_xxx widgets (except the tk_button widget)
 will be echoed to a 'widgets' frame.  The default html file, mh\web\mh\index_1.html
has been modified to include this frame.</P>
<P>- Added an index in the mh/code/public/README.txt, and added 2 examples on how to send pages using a modem from Brian and Jeff
and Brian's house code, which includes examples on how to run Winamp.</P>
<P>- Added test_stuff.pl.  Try entering 'a', 'b', 'c', ... etc in the 'Test 1' Tk widget field to run these tests.
The idea is that you can easily test a chunk of code by adding another elseif section.</P>
<P>- Added a generic tk_entry, inspired by Charles wakeup_time tk widget.  When running test_stuff.pl, try
entering 'g' on the tk 'Test input 1' for a demo, and watch the tk 'Test out' widget for the results.</P>
<P>- Allow mh.ini tk_geometry updates on Reload.  This was working before, but was broken in a recent release.</P>
<P>- Documented time_* functions, and Serial_Item  a bit more.</P>
<P>
<H2><A NAME="mh ver 1.54 posted on 04/27/99">mh ver 1.54 posted on 04/27/99</A></H2>
<P>Version 1.54 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A></PRE>
<P>- Fix the 'killing run process' errata on mh exit (Craig Schaeffer bug # 1).</P>
<P>- Fix a bug where mh would exit if a process_item was re-started before a previous process for that item had
finished (Craig Schaeffer bug # 2).</P>
<P>- Play a wav file only once on linux (thanks to Kevin P. for that fix).</P>
<P>- Added tk_checkbutton widget (see docs and/or tk_widgets.pl for an example).</P>
<P>- Allow for house code (one character) X10_Items.  These translate to ALL_ON and ALL_OFF commands.</P>
<P>- Change the mult-X10 event check, so it checks for 2 and 4 character X10 events.</P>
<P>- Decode and store incomming CM11 dim/bright codes.  You can set up Serial_Items to trigger off of the dim 
amount.  This also fixes the Craig Schaeffer bug # 3 he found in mh 1.52.</P>
<P>- Switched to the latest version of the Serial_Port.pm code.  SerialPort_Linux.pm renamed to SerialPort.pm.</P>
<P>- mh.exe is built with the latest version of perl (5.005_03 build 515).  I don't think this causes
any noticble changes or fixes anything in mh, but it is 'the latest and greatest' :)</P>
<P>- Add a -cgi option to display_callers, so it can be called from a web server.  Not fully implemented yet.</P>
<P>- A http server log is created for each month, in the data/logs directory.</P>
<P>- Turn on command buffering when using -log, so the log is always up to date.</P>
<P>- Allow for unlimited number of server#_ports</P>
<P>- Add server_name_buffer parm, so you can allow for buffered socket ports.</P>
<P>- Add server_speak example to mh.ini, and code/test.  You can use this to pass text to speak into mh
via a socket port.  An example is in the speak.cgi script, which can be called by a perl enabled 
web server and/or tested with the speak.cgi.bat script.</P>
<P>
<H2><A NAME="mh ver 1.51 posted on 03/27/99">mh ver 1.51 posted on 03/27/99</A></H2>
<P>Version 1.51 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs/index.html">http://members.home.net/winters/house/programs/index.html</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/index.html">http://www.geocities.com/ResearchTriangle/Lab/5514/index.html</A>
  <A HREF="http://misterhouse.webjump.com/index.html">http://misterhouse.webjump.com/index.html</A></PRE>
<P>Once again, a ton of changes/fixes/updates:</P>
<P>- Yet one last fix to time_now.  It now correctly handles day boundaries with offsets.</P>
<P>- Fixed the 'said $serial_object' method so it no longer drops records.</P>
<P>- Fixed the web authentication so it works with IE 3.0 and IE 5.0.</P>
<P>- Fixed the Process_Item hang on exit problem!  For those of you who are into gory details,
I discovered that you can not kill unfinished .BAT files (command.com) Win32::Processes, but
kill works fine on other programs (e.g. no kill on get_url.bat, but we CAN kill 'mh.exe -run get_url' 
or 'perl get_url').  So, I put in code that bypasses most bat files when called with Process_Item.
If anyone still gets a hang on exit, note the names of the unfinished processes it was trying to kill.</P>
<P>- Moved the 'check email' function from get_internet_mail.pl into a stand alone get_mail script.  This allows
us to call get_mail with a Process_Item and not have mh hang when checking email.</P>
<P>- Added a &amp;net_ping function and use it in the functions called by get_mail, so it doesn't waste much time
on trying to get to in-accessable mail accounts.</P>
<P>- Fixed a bug in phone display_callers script so it can be called from mh with 'do' rather than 'run' (much faster).</P>
<P>- Completely changed how the tk windows are created.  You can now customize the tk windows by modifying the 
tk_frame.pl and tk_widgets.pl members.  Details are in the 'customizing the Tk interface' section of mh.html.</P>
<P>- Added a tk mail flag widget to code/Bruce/internet_mail.pl so you can see how much mail is in various mailboxes.</P>
<P>- Added code/Bruce/tk_eye.pl.  This adds one of those nifty 'live eye' type displays to the menu bar, so you can visually see
mh running.  It also has a 'opps, I fell asleep' checks in it, so we can log when mh gets hung up on something.  Should
be much less frequent now that get_mail is forked.</P>
<P>- Added code/bruce/weather_wx200.pl.  This code parses the data from a WX200 or WM918 weather station. 
$200-&gt;$300 from Radio Shack and other places, it does indoor/outdoor temp, humidity, barom. pressure, and wind speed/dir.
Also added some tk widgets to code/Bruce/weather_monitor.pl.</P>
<P>- Fixed bux on speak ``rooms=all $text'' when $text was muli-lined.</P>
<P>- Rename the temp files in the code dir from -*- to mh_temp.* (e.g. mh_temp.user_code).</P>
<P>- Added a file_head, file_tail, file_read, and file_write functions (see mh.html).</P>
<P>- Added a log_format option to logit (see mh.html).</P>
<P>- Added a serial#_datatype mh.ini parm.  A datatype of 'raw' allows mh to better process binary datastreams.</P>
<P>- Added mhl.bat (dos users) and mhl (unix users).  The 'l' suffix is for loop.
These shells loop if mh had a non-normal exit, so mh will be restarted if it somehow accidentally dies.</P>
<P>Next up ... I'm not sure.  Guess we will find out in a few weeks :)</P>
<P>
<H2><A NAME="mh ver 1.46 posted on 03/12/99">mh ver 1.46 posted on 03/12/99</A></H2>
<P>Version 1.46 was just uploaded to:</P>
<PRE>
  <A HREF="http://members.home.net/winters/house/programs">http://members.home.net/winters/house/programs</A>
  <A HREF="http://misterhouse.webjump.com/">http://misterhouse.webjump.com/</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/">http://www.geocities.com/ResearchTriangle/Lab/5514/</A></PRE>
<P>Lots of changes:</P>
<P>- Fixed the XD1DJ -vs- XD1 XDJ problem.  mh will now break up XD1DJ into XD1 XDJ and form XD1 XDJ into XD1DJ. 
It decides to break or merge by looking at what events are defined.  See code/examples/x10_multievent_tests.pl  for an example.
Note, the later (forming seperate stirngs into one event) occurs over a 5 second window,
so you can use this to create multi-key X10 keypad events.</P>
<P>- Simulate incoming serial data from Tk cmd window or xcmd file (e.g. type house XA1AJ  to turn on X10 light A1)</P>
<P>- Fixed get_tv_grid so it will refresh old (last month's) data.</P>
<P>- Fixed the typo in get_url and allowed it to work with proxies.</P>
<P>- Fixed the 'Charles bug', where mh would hang when transmiting commands (like C1 DIM-30) that had a checksum
that matched the X10 'data to send' string 0xa5.  Also limit the number of times we loop through the retry code.</P>
<P>- Fixed the 'Craig bug' in str2time that messed up time arithmetic with minutes :08 and :09 because
they looked like illegal octal numbers (e.g. time_now(``11:08 + 0:01'').  Also added
more error checking so it is clear when there is a problem.</P>
<P>- Fixed the 'Craig2 bug' in time_now where it would not trigger if mh was busy doing something else (like 
an internet mail check) on a minute boundary.  I checked all the other time related tests and it looked
like this was the only one that was broken.</P>
<P>- Fixed the 'Craig3 bug' where state_now was not turned on when mh was sending serial item states.</P>
<P>- mh IS exposed to the 49.7 day bug (2**32 milliseconds) that has been in the news lately: 
<A HREF="http://www.news.com/News/Item/0,4,33117,00.html?st.ne.ni.rel">http://www.news.com/News/Item/0,4,33117,00.html?st.ne.ni.rel</A> .
If you manage to keep windows running for that long, mh should be restarted.  As a quick fix, I just put in a 
'better restart' warning if uptime &gt; 48 days.  If windows ever gets reliable to stay up that long, I'll put in a better fix.
Hmmm, now that we are running on linux as well, I should give this some more serious thought :)</P>
<P>- Seperated the timer_kitchen code into seconds, minutes, and hours members for better control and more 
managable menus.  Complements of Lee McLaren.  Also changed the seconds timer as an example of how
to use local objects, so we
can easily create simultaneous timers.  The down side to this is that these timers are not saved between
reloads, since all local objects are destroyed.  Because of this, I left the minutes and hours timers
as global, so they are 'one at a time, but saved' timers.</P>
<P>- Added a mh.ini seasons parm so our southern buddies can be backwards :)  Also put in the standard dates
for season changeover.  On the average, it is right, but it will be off by a day every once and a while.
If anyone has forumlas for equinox and/or 'phase of the moon' calculations, let me know.</P>
<P>- Documented mh.ini time_zone and longitude parms better (should always both be positive).</P>
<P>- Added a mh.ini option to save the my 'process ID' to a file, so you can easily send mh signals (like 'reload code').</P>
<P>- Updated the uptime and %cpu used indicators so they work under linux.</P>
<P>- Reset window size/position on reload only if the mh.ini tk_geometry parm was changed.</P>
<P>- Modified internet_mail.pl so it can check for multiple email accounts.  See mh.ini on how
to define as many accounts as you want.</P>
<P>- Added Serial_Item methods stop, start, is_stopped, and is_available.  See mh.html and/or code/examples/serial_port_examples.pl.
Brian had the good idea of trying to share a dial out modem with mh caller-id monitoring function.  Hopefully these new
methods will enable that.</P>
<P>- Brian Klier added code/public/phone_callerid.pl.  It will allow your internet/data modem to also be used by mh
for callerid function.  Brian is still working on it, but it mostly works.</P>
<P>- Included the display_callers program.  This tk window will display outgoing and incoming phone info.  Incoming as logged by callerid code
(see Brian's code for a modem example and bruce/code/phone.pl for a weeder callerid kit example) and outgoing call monitoring
(see bruce/code/phone.pl, which uses the weeder phone tone monitoring kit).</P>
<P>- Allow for more than 2 generic serial ports.  Defined as many serial#_ mh.ini parms as you want.  Also, if the port
is in use when mh is started, you can use 'start $serial_item' to start it later after the port frees up.</P>
<P>- Errors on code reloads will put relevent errata to a tk popup.  With -tk 0, it will remain in the console where it has
always been.  Unfortunatly, this error errata is not always useful/relevant, but it is sometimes useful.</P>
<P>- Added a 'mode' option to speak, so you can force speech even if mh is in mute or offline mode.  See speak section
of mh.html and code/test/mh_control.pl $mh_mode as an example (it toggles between modes with an X10 keypush)</P>
<P>Unfixed bugs:</P>
<P>- I tried to fix the 'hang after bye bye' on exit problem, but no luck.  It is caused by a 'get_url' Process_Item
that does not finish.  The time-out feature does not work on Windows, nor does the 'process kill' function.  Not 
a problem on linux, where killing things is easy.</P>
<P>Next up, programable Tk widgets.  I know, thats what I said last time ... this time I mean it :)</P>
<P>
<H2><A NAME="mh ver 1.42 posted on 02/26/99">mh ver 1.42 posted on 02/26/99</A></H2>
<P>Version 1.42 was just uploaded to:</P>
<PRE>
  <A HREF="http://misterhouse.webjump.com/">http://misterhouse.webjump.com/</A>
  <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/">http://www.geocities.com/ResearchTriangle/Lab/5514/</A></PRE>
<P>- The SerialPort abend with the 1.40 compiled mh.exe is fixed.  I messed it up for just the compiled version when
I added some debug for the HomeBase.pm code.  I also added some more errata so it is clearer where the problem
is if this type of problem happens again.</P>
<P>- The memory leak problem is fixed.   It occured only if you were lucky enough to put a tab character in the
wrong place in object add records.</P>
<P>- The web server will now default to being not authorized.</P>
<P>- The get_url program was changed so that it will now timeout after 2 minutes.  If mh was exited and
a get_url process had not finished, perl was SUPPOSED to kill the process, but I had problem with it
waiting for get_url to finish (which it sometimes never would).   It would be better if the 'kill on exit'
worked, but allowing it to time out is at least a bit better than hanging on exit.</P>
<P>
<H2><A NAME="mh ver 1.40 posted on 02/20/99">mh ver 1.40 posted on 02/20/99</A></H2>
<P>- The web page can now (optionally) require password authentication to function, like the telnet.pl server does.
See the mh.html Authentication section for more details.</P>
<P>- Allow search commands to also match on filenames</P>
<P>- Added new Group item.  Thanks to Craig for this suggestion!  This shows up on both the Tk menu and the web interface.
See mh.html and code/test/test_x10.pl for examples.</P>
<P>- Added a Tk items menu.  If you have many items, this can slow the mh startup down a by a few seconds and add 
another Meg to the mh memory useage, so I made this menu optional.  If you don't think you will use
this menu much, you may want to set tk_items=0 in mh.private.ini file.</P>
<P>- code/public/tracking.pl now is configurable with parms in the mh.ini.  This code is for anyone with a ham radio
receiver and a 'tnc' (radio modem).  It tracks, logs, announces radio annoucements, weather data, and gps
position data.  Those with a ham licence can add a gps unit to your car and have your house track and announce
where you are!  I just got my ham licence :)   Thanks to Brian for writing this one!</P>
<P>- Added bin/get_slashdot_news program and code/test/internet_slashdot.pl.  This gets/displays/reads the most
recent news titles from the popular slashdot.com web site.  Thanks to David for writing this one!</P>
<P>- Added a Process_Item object.  This allows mh to start and stop a detached program.  Most importantly, it also
allows my to test for when the detached program is finished.  On Windows systems, the Win32::Process
function is used, on Unix the fork function is used.  In either case, the mh methods are the same.  See
internet_slashdot.pl and 'get top 10 list' in internet_data.pl for examples.</P>
<P>- Added get_url command, so we can get use Process_Item to get any internet web page in a background process.  
See ``get top 10 list'' in internet_data.pl for an example.</P>
<P>- Added the global $Reload and $OS_win variables.  $Reload is true for the event pass after a 'reload code'
event.  It is also true when $Startup is true, when mh is first started.</P>
<P>- Fixed a bug where the initial Tk Cmd list would not respond to a double-click</P>
<P>I didn't get the customizable Tk widgets added yet.  Also, I couldn't find any way to play compressed
wave files on linux, so I didn't include any wav files.  Uncompressed wav files are just too big.</P>
<P>
<H2><A NAME="mh ver 1.35 posted on 02/07/99">mh ver 1.35 posted on 02/07/99</A></H2>
<P>Version 1.35 was just uploaded to <A HREF="http://www.isl.net/~winter/house/programs">http://www.isl.net/~winter/house/programs</A> and <A HREF="http://misterhouse.webjump.com.">http://misterhouse.webjump.com.</A> 
Here are the package files:</P>
<PRE>
 - <A HREF="http://freehosting.at.webjump.com/mi/misterhouse-webjump/mh_135.zip">http://freehosting.at.webjump.com/mi/misterhouse-webjump/mh_135.zip</A>
 - <A HREF="http://freehosting.at.webjump.com/mi/misterhouse-webjump/mh_135e.zip">http://freehosting.at.webjump.com/mi/misterhouse-webjump/mh_135e.zip</A></PRE>
<PRE>
 - <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/mh_135.zip">http://www.geocities.com/ResearchTriangle/Lab/5514/mh_135.zip</A>
 - <A HREF="http://www.geocities.com/ResearchTriangle/Lab/5514/mh_135e.zip">http://www.geocities.com/ResearchTriangle/Lab/5514/mh_135e.zip</A></PRE>
<P>In my haste to turn off non-debug serial port write print_log errata, I also turned off the serial port writes!</P>
<P>If you happened to be un-lucky enough to have just downloaded 1.34, you can get it to work by
turning debug on.</P>
<P>Honestly, I DID test this code, on linux, windows, and compiled windows.  I just forgot to test serial port output :)</P>
<P>
<H2><A NAME="mh ver 1.34 posted on 02/07/99">mh ver 1.34 posted on 02/07/99</A></H2>
<P>Version 1.34 was just uploaded to <A HREF="http://www.isl.net/~winter/house/programs">http://www.isl.net/~winter/house/programs</A> and <A HREF="http://misterhouse.webjump.com">http://misterhouse.webjump.com</A></P>
<P>Changes include:</P>
<P>- Added the 'search string' function to the web pages.</P>
<P>- Fixed tk Command menu so it is reset on reload, rather than added to.</P>
<P>- Added filename to all the Tk and web item lists</P>
<P>- Added a mh -run option, so the compiled mh.exe can be used to run any arbitrary perl script from 
the command line.  Changed get_weather.bat, set_clock.bat, get_tv_grid.bat, and set_password.bat to use this, so they
can now be called stand alone from a DOS shell, even if you do not have perl installed.
This also lets us detatch these processes from mh events, so 
mh does not hang, waiting for them to finish.  The tv_grid.pl event and internet_data.pl get_weather calls 
now do this.</P>
<P>- Added and documented File_Item methods 'name', 'set_watch', and 'changed'.  See the 
'Get internet weather data' for an
example.  This allows mh to respond to the detatched get_weather process after it is finished.</P>
<P>- Fixed a bug where an active timer would get cloned on a code reload.</P>
<P>- Added mh.ini parm tk_geometry so you can control size and position of the mh tk window</P>
<P>- Change the default to log serial IO to the log window only if debug is on.  If people would rather see this
on by default let me know.  Maybe we should set a debug level, and thus have better control over this.</P>
<P>- Added some info on system requirements to README.html</P>
<P>Looking for ideas on what to put in the 'this space for rent' section of the tk menu.  Right now a 
'print_msg ``hi there''' will add an entry, but that I'm not sure we need that in addition to the print_log 
and speak log windows.</P>
<P>
<H2><A NAME="mh update 02/04/99 version 1.32">mh update 02/04/99 version 1.32</A></H2>
<P>Version 1.32 was just uploaded to <A HREF="http://www.isl.net/~winter/house/programs">http://www.isl.net/~winter/house/programs</A> and <A HREF="http://misterhouse.webjump.com">http://misterhouse.webjump.com</A></P>
<P>Changes include:</P>
<P>- Fixed the Windows OLE calls, so they work better.  Thanks to Walley for helping with this!  No more ghost DDE and OLEmain windows!!</P>
<P>- Fixed the Tk bug on Windows where you could not press buttons.  The Shortcut keys still do not work :(</P>
<P>- Added a Tk menu pull down with all the voice commands.  Also allow the Tk command entry to do a string match to list all
voice commands that match whatever string (e.g. try typing: time).</P>
<P>- Added a mh.ini delay_speak parm.  Wally, try setting this to 500 or so (.5 seconds) to see if we can get your 1/2 duplex sound card
not to que up speech after VR.  You should see ``Sleeping for xxx ms'' in your mh console, after doing VR that requires speech.</P>
<P>- Fixed 'bad time record: time=' on startup.</P>
<P>- Fixed internet.pl to it reports non-Rochester forecast.  Thanks Craig!</P>
<P>- Fixed 'duplicate socket item' message.</P>
<P>- Fixed display so it will run stand alone, if perl is installed.</P>
<P>- Added an code/example directory.  Keep those code snippets comming!</P>
<P>- Fixed the web path so all the example interfaces work (index_1.html, index_2.html, index_3.html).</P>
<P>- Fixed a typo in tv_grid.pl, so PM is not added to all times</P>
<P>- Allow telnet.pl to run without a password file.</P>
<P>
<H2><A NAME="mh update 01/30/99 version 1.30">mh update 01/30/99 version 1.30</A></H2>
<P>Version 1.30 was just uploaded to <A HREF="http://www.isl.net/~winter/house/programs">http://www.isl.net/~winter/house/programs</A></P>
<P>Changes include:</P>
<P>- Linux serial port support!  Thanks to Joe Doss for creating SerialPort_Linux.
I tested both a CM11 (i.e. activehome) and weeder X10 interface on it.  Works great!</P>
<P>- Added a simple bin/configure file, to help with a linux install (See readme.html).</P>
<P>- Fixed case names on various lib modules.  Now, all the files in the bin directory
should work OK stand alone on linux (and windows if perl is installed).</P>
<P>- Change the zip so it creates an mh directory, so you can unzip right from a root drive/directory.</P>
<P>- Added the API.pm to the sit lib so that the uncompiled version will run 'out of the box' on 
windows with just the standard perl distribution installed.</P>
<P>- The web top 10 list works again.</P>
<P>- On windows, if you don't want/use voice recognitions, mh -voice_cmd 0  will now cause perl
to load without those pesky 'DDE' and 'OleMain' ghost windows.</P>
<P>A note to potential linux users.  The festival TTS engine works good, but it sucks up about 20-30 meg (it forks once).
So, there can be a fair amount of latency with when speaking longer strings, on a 32 meg machine.</P>
<P>
<H2><A NAME="mh update 01/30/99 version 1.29">mh update 01/30/99 version 1.29</A></H2>
<P>Version 1.29 was just uploaded to <A HREF="http://www.isl.net/~winter/house/programs">http://www.isl.net/~winter/house/programs</A></P>
<P>In addition to the bug fixes posted a few days ago, here is the list of fixes/updates:</P>
<P>- get_tv_grid now has a better index, so you can navigate different hours/days.  You will
need to run get_tv_grid -days 7 -hour all  to get a full weeks worth of data.</P>
<P>- telnet.pl was updated with an example of how you can set a wakeup time item.</P>
<P>- Startup time for the windows mh.exe was improved.</P>
<P>- mh.ini and mh.private.ini are now reloaded on a reload command.</P>
<P>- A new file, internet_logon.pl, demonstrates how to do windows auto-dialing/auto-updating of net data.</P>
<P>- The set_clock now uses a simple socket call to get time from a server.  Charles, if this still does not work
behind your firewall, see if you can connect with: telnet time-a.timefreq.bldrdoc.gov 14    That should work unless your 
firewall is blocking port 14.</P>
<P>- internet_ip_update.pl can now update the TZO dynamic IP server and it can upload your current dynamic IP address to a web
page (see <A HREF="http://www.isl.net/~winter/online">http://www.isl.net/~winter/online</A> for an example of what that page looks like).</P>
<P>- Fixed a bug with get_weather had a bug where it would not return the current weather conditions.</P>
<P>- Created 'house' and 'speak' shells for unix users.</P>
<P>- mh.html has a bit more documentaion on items and their methods.</P>
<P>- deep_though.pl has been re-worked.  It no longer relies on a DOS program, so now linux dudes can revel in
'Deep thoughts for the day'</P>
<P>
<H2><A NAME="mh update 01/24/99 version 1.27">mh update 01/24/99 version 1.27</A></H2>
<P>Version 1.27 was just uploaded to <A HREF="http://www.isl.net/~winter/house/programs.">http://www.isl.net/~winter/house/programs.</A>  Lots of new tricks and changes:</P>
<P>- With some help from David DellaNave, we now have mh working on linux!  
Except for a few minor things like VR and serial port IO :)  Still, there should be enough function on a linux to be useful.
TTS (with the Festival speech engine installed) and all the internet, telnet, and web function works.
Details on installation are in the README.HTML and limitations are documented at the bottom of mh.html</P>
<P>- new function: get_weather.  Gets current conditions and/or forecast data from the net.  
See 'Get internet weather data' in the test/internet_data.pl file and set the city and state entries in mh.ini</P>
<P>- new function: get_tv_grid.  Gets tv programing from clicktv.com.  You can go to their website and personalize
your tv grid to your location and preferences, then set the clicktv_id in mh.ini.   Now use the web interface
to drive the test/tv_grid.pl code to program tv reminders and/or vcr programing.  It needs a bit more work
in navigating through different days, but I its a start.</P>
<P>- added a Generic_Item object, for storeing arbitrary data.  An example is in tv_grid.pl</P>
<P>- added test/internet_ip_update.pl  This is an example of how you can update an 'Dynamic IP address' server with
your current dynamic IP address.  This one is for the postmodem.com DIPS service, but I think we could 
also code one 2 other popular servers: tzo.com  and dyn.ml.org.</P>
<P>- quite a few changes in mh.ini, so if you have your own mh.ini, you will probably want to put your changes in 
a mh.private.ini file, which has precedence.</P>
<P>- a bit more documention, especially on windows VR and TTS, in mh.html</P>
<P>- Probably other important changes I have forgotten to take notes on :)</P>
<P>
<H2><A NAME="mh update 01/13/99 version 1.21">mh update 01/13/99 version 1.21</A></H2>
<P>I just uploaded version 1.21 of mh to</P>
<P>- fixed a bug where many of the commands would not work if the VR (Voice Recognition) engine was not installed.  Now everything should work with or without VR.</P>
<P>- added the option for mh to be a socket port server.  It defaults to monitoring the telnet port (23).  If you are running telnet.pl (in the test directory), you should be able to do a 'telnet localhost' and run any voice command (as listed on by the web interface), in addition to 'say phrase/file' and 'display phrase/file'.  Thanks to Brian for this idea!</P>
<P>Keep those ideas coming and we will soon have an automation engine capable of running the country!  Someone needs to :)</P>
<P>Near term todos:</P>
<P>- A socket client option, so mh can start a socket communication (in addition to the server option that was just added).</P>
<P>- Add authentication, to optionally limit telnet and web interaction to 'good guys'</P>
<P>- More documentation</P>
<P>- Modify code so it can also run on Linux with the Festival TTS engine.  Any linux users out there want to test it?</P>
<P>
<H2><A NAME="mh update 01/08/99 version 1.18">mh update 01/08/99 version 1.18</A></H2>
<P>I just uploaded version 1.18 of hh.  Changes include:</P>
<P>- Fixed the run command option.  For example, this dos command should work now:</P>
<PRE>
    house speak hi there</PRE>
<P>- Started documenting!  There is now a \mh\docs\mh.html file.  It is pretty sketchy for now, but it should grow pretty quick in the next week or two.</P>
<P>
<H2><A NAME="mh update 01/06/99 version 1.17">mh update 01/06/99 version 1.17</A></H2>
<P>I just uploaded version 1.17 of mh.  Changes include:</P>
<P>- 5% increments in bright dim (instead of 10%)</P>
<P>- fixed a memory leak introduced in the previous version</P>
<P>- added run_voice_cmd and allow $voice_item set method</P>
<P>- allowed time offsets in time_greater_than/less_than</P>
<P>- minor changes to the web interface</P>

</BODY>

</HTML>
